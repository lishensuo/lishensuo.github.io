<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">

<link rel="icon" href="/favicon.ico" type="image/x-icon"> 
<title>ğŸ“– ç”Ÿä¿¡æ•°æ®åˆ†æ--åˆ†ææµç¨‹ï¼Œå·¥å…·åŒ…ç­‰ | Li&#39;s Bioinfo-Blog</title>
<meta name="keywords" content="">
<meta name="description" content="ğŸ“– ç”Ÿä¿¡æ•°æ®åˆ†æ--åˆ†ææµç¨‹ï¼Œå·¥å…·åŒ…ç­‰ - Li&#39;s Bioinfo-Blog">
<meta name="author" content="">
<link rel="canonical" href="https://lishensuo.github.io/en/posts/bioinfo/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.9e4de5e3ba61ea358168341aa7cdf70abfaafb7c697dfe8624af3ddff9a35c2f.css" integrity="sha256-nk3l47ph6jWBaDQap833Cr&#43;q&#43;3xpff6GJK893/mjXC8=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://lishensuo.github.io/img/Q.gif">
<link rel="icon" type="image/png" sizes="16x16" href="https://lishensuo.github.io/img/Q.gif">
<link rel="icon" type="image/png" sizes="32x32" href="https://lishensuo.github.io/img/Q.gif">
<link rel="apple-touch-icon" href="https://lishensuo.github.io/Q.gif">
<link rel="mask-icon" href="https://lishensuo.github.io/Q.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://lishensuo.github.io/en/posts/bioinfo/index.xml">
<link rel="alternate" hreflang="en" href="https://lishensuo.github.io/en/posts/bioinfo/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="ğŸ“– ç”Ÿä¿¡æ•°æ®åˆ†æ--åˆ†ææµç¨‹ï¼Œå·¥å…·åŒ…ç­‰" />
<meta property="og:description" content="æç”³é”çš„åšå®¢ï¼Œè®°å½•ç”Ÿä¿¡å­¦ä¹ è¿‡ç¨‹ã€‚R/Python/Shell" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://lishensuo.github.io/en/posts/bioinfo/" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="ğŸ“– ç”Ÿä¿¡æ•°æ®åˆ†æ--åˆ†ææµç¨‹ï¼Œå·¥å…·åŒ…ç­‰"/>
<meta name="twitter:description" content="æç”³é”çš„åšå®¢ï¼Œè®°å½•ç”Ÿä¿¡å­¦ä¹ è¿‡ç¨‹ã€‚R/Python/Shell"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "åˆ†ç±»",
      "item": "https://lishensuo.github.io/en/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ğŸ“– ç”Ÿä¿¡æ•°æ®åˆ†æ--åˆ†ææµç¨‹ï¼Œå·¥å…·åŒ…ç­‰",
      "item": "https://lishensuo.github.io/en/posts/bioinfo/"
    }
  ]
}
</script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://lishensuo.github.io/en/" accesskey="h" title="Li&#39;s Bioinfo-Blog (Alt + H)">Li&#39;s Bioinfo-Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://lishensuo.github.io/en/" title="ä¸»é¡µ">
                    <span>ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/posts" title="åˆ†ç±»">
                    <span>åˆ†ç±»</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/tags" title="æ ‡ç­¾">
                    <span>æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/archives/" title="å½’æ¡£">
                    <span>å½’æ¡£</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/about" title="å…³äº">
                    <span>å…³äº</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/search" title="æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>æœç´¢</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://lishensuo.github.io/en/">Home</a>&nbsp;Â»&nbsp;<a href="https://lishensuo.github.io/en/posts/">åˆ†ç±»</a></div>
  <h1>ğŸ“– ç”Ÿä¿¡æ•°æ®åˆ†æ--åˆ†ææµç¨‹ï¼Œå·¥å…·åŒ…ç­‰</h1>
</header>





<article class="post-entry">
	<div class="post-info">  
		<header class="entry-header">
			<h2>ChemmineRå¤„ç†åŒ–åˆç‰©ä¿¡æ¯çš„åŸºç¡€å·¥å…·RåŒ…
			</h2>
		</header>
		<section class="entry-content">
			<p> ChemmineRæ˜¯ä½¿ç”¨Rè¯­è¨€å®ç°åŒ–åˆç‰©åŸºç¡€æ“ä½œçš„å·¥å…·åŒ…ï¼Œç°æ ¹æ®å…¶å®˜æ–¹æ–‡æ¡£å­¦ä¹ å…¶ä¸»è¦ç”¨æ³•å¦‚ä¸‹ï¼š
https://www.bioconductor.org/packages/release/bioc/vignettes/ChemmineR/inst/doc/ChemmineR.html 1 2 3 4 5 6 if (!requireNamespace(&#34;BiocManager&#34;, quietly=TRUE)) install.packages(&#34;BiocManager&#34;) BiocManager::install(&#34;ChemmineR&#34;) library(&#34;ChemmineR&#34;) # library(&#34;ChemmineOB&#34;) 1. SDFsetæ ¼å¼ ChemmineRåŸºç¡€æ“ä½œæ˜¯å›´ç»•SDFsetå¯¹è±¡å±•å¼€çš„ï¼Œå…¶è¡¨ç¤ºå¤šä¸ªSDFæ ¼å¼çš„åŒ–åˆç‰©é›†åˆ 1 2 3 4 5 6 7 8 9 data(sdfsample) sdfset = sdfsample # valid &lt;- validSDF(sdfset) # sdfset &lt;- sdfset[valid] class(sdfset) # SDFset length(sdfset) # 100 c(sdfset[1:4], sdfset[5:8]) # åˆå¹¶ sdfset[1:4] # å­é›† æ¯ä¸ªSDFseté›†åˆæ˜¯ç”±å•ä¸ªSDFå¯¹è±¡ç»„æˆçš„ï¼Œä¸»è¦ç”±4éƒ¨åˆ†æ„æˆ &lt;&lt;headerÂ» : åŒ–åˆç‰©idç­‰åŸºæœ¬ä¿¡æ¯ &lt;&lt;atomblockÂ» : åŸå­ä¿¡æ¯ï¼Œ&lt;&lt;bondblockÂ»: é”®ä¿¡æ¯ &lt;&lt;datablockÂ» : åŒ–åˆç‰©çš„å±æ€§/å…¶å®ƒæ³¨é‡Šä¿¡æ¯ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 sdfset[[1]] as(sdfset[[1]], &#34;list&#34;) ## ID cid(sdfset[1:2]) # slot ID sdfid(sdfset[1:2]) # header ID cid(sdfset) = sdfid(sdfset) ## Component header(sdfset[[1]]) # character atomblock(sdfset[[1]]) # matrix bondblock(sdfset[[1]]) # matrix datablock(sdfset[[1]]) # character blockmatrix = datablock2ma(datablock(sdfset[1:2])) è¡¥å……ï¼šChemmineRæä¾›ä¸€äº›å‡½æ•°å¯è®¡ç®—åŒ–åˆç‰©çš„åŸºæœ¬å±æ€§ä¿¡æ¯ï¼Œä¾‹å¦‚åˆ†å­é‡ç­‰ã€‚æ­¤å¤–ChemmineOBä¹Ÿå¯ä»¥å®ç°ç±»ä¼¼åŠŸèƒ½ã€‚
...</p>
		</section>
		<footer class="entry-footer">













Create:&amp;nbsp;&lt;span title=&#39;2023-07-20 00:00:00 &#43;0000 UTC&#39;&gt;2023-07-20&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2022-07-20&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;1052&amp;nbsp;|&amp;nbsp;3 min&amp;nbsp;|&amp;nbsp;Lishensuo</footer>
	</div>   
  <a class="entry-link" aria-label="post link to ChemmineRå¤„ç†åŒ–åˆç‰©ä¿¡æ¯çš„åŸºç¡€å·¥å…·RåŒ…" href="https://lishensuo.github.io/en/posts/bioinfo/503chemminer%E5%A4%84%E7%90%86%E5%8C%96%E5%90%88%E7%89%A9%E4%BF%A1%E6%81%AF%E7%9A%84%E5%9F%BA%E7%A1%80%E5%B7%A5%E5%85%B7r%E5%8C%85/"></a>
</article>





<article class="post-entry">
	<div class="post-info">  
		<header class="entry-header">
			<h2>æ·±åº¦å­¦ä¹ D2L--01--çº¿æ€§å›å½’
			</h2>
		</header>
		<section class="entry-content">
			<p> æ·±åº¦å­¦ä¹ ç»„æˆè¦ç´  çº¿æ€§å›å½’å¯ä»¥è®¤ä¸ºæ˜¯æœ€ç®€å•çš„ä¸€å±‚æ·±åº¦ç¥ç»ç½‘ç»œ ä¸€ã€ä»é›¶å®ç° 1 2 3 import numpy as np import torch import random 1ã€ç¤ºä¾‹æ•°æ® æ¨¡æ‹Ÿæ ·æœ¬ç‰¹å¾ä¸æ ‡ç­¾æ•°æ®ï¼Œå¹¶åˆ†æˆå°æ‰¹é‡ä¼ å…¥
...</p>
		</section>
		<footer class="entry-footer">













Create:&amp;nbsp;&lt;span title=&#39;2022-07-31 00:00:00 &#43;0000 UTC&#39;&gt;2022-07-31&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2022-07-31&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;642&amp;nbsp;|&amp;nbsp;2 min&amp;nbsp;|&amp;nbsp;Lishensuo</footer>
	</div>   
  <a class="entry-link" aria-label="post link to æ·±åº¦å­¦ä¹ D2L--01--çº¿æ€§å›å½’" href="https://lishensuo.github.io/en/posts/bioinfo/701%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0d2l--01--%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/"></a>
</article>





<article class="post-entry">
	<div class="post-info">  
		<header class="entry-header">
			<h2>æ·±åº¦å­¦ä¹ D2L--02--softmaxå¤šåˆ†ç±»
			</h2>
		</header>
		<section class="entry-content">
			<p>ä¸€ã€ä»é›¶å®ç° 1 2 3 4 import torch import torchvision from torch.utils import data from torchvision import transforms 1ã€ç¤ºä¾‹æ•°æ® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 ##æ•°æ®é›†ä¸ºfashion_ministï¼Œ10ç±»è¡£æœåŠå¯¹åº”çš„å›¾ç‰‡ def load_data_fashion_minist(batch_size): #å°†å›¾ç‰‡è½¬ä¸ºå¼ é‡çŸ©é˜µ trans = transforms.ToTensor() mnist_train = torchvision.datasets.FashionMNIST( root=&#34;./data&#34;, train=True, transform=trans, download=True) mnist_test = torchvision.datasets.FashionMNIST( root=&#34;./data&#34;, train=False, transform=trans, download=True) #ç”Ÿæˆè®­ç»ƒé›†æ•°æ®è¿­ä»£å™¨ train_iter = data.DataLoader(mnist_train, batch_size=batch_size, shuffle=True) #ç”Ÿæˆæµ‹è¯•é›†æ•°æ®è¿­ä»£å™¨ test_iter = data.DataLoader(mnist_train, batch_size=batch_size, shuffle=False) return train_iter, test_iter # batch_size = 256 # train_iter, test_iter = load_data_fashion_minist(batch_size) # X, y = next(iter(train_iter)) # X.shape # # torch.Size([256, 1, 28, 28]) 2ã€å®šä¹‰æ¨¡å‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 def net(X): # W.shape -- torch.Size([784, 10]) # b.shape -- torch.Size([10]) # å…¨è¿æ¥å±‚ X = torch.matmul(X.reshape((-1, 784)), W) &#43; b # æ¿€æ´»å‡½æ•°(è§ä¸Š) X_softmax = softmax(X) return X_softmax def softmax(X): # å¹‚å‡½æ•°ä½¿æ•°æ®å…·æœ‰éè´Ÿæ€§ X_exp = torch.exp(X) partition = X_exp.sum(1, keepdim=True) # å½’ä¸€åŒ–ï¼Œä¸€ä¸ªæ ·æœ¬å¯¹äºå…¨éƒ¨ç±»åˆ«é¢„æµ‹ç»“æœå’Œä¸º1 return X_exp/partition # W = torch.normal(0, 0.01, (784, 10), requires_grad = True) # b = torch.zeros(10, requires_grad = True) # y_hat = net(X) # y_hat.shape # # torch.Size([256, 10]) 3ã€å®šä¹‰æŸå¤±å‡½æ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 def cross_entropy(y_hat, y): # å¯¹äºæŸä¸ªæ ·æœ¬çœŸå®ç±»åˆ«çš„é¢„æµ‹æ¦‚ç‡ y_hat_target = y_hat[range(len(y_hat)), y] # è´Ÿlogè½¬æ¢--â†’ ç¬¦åˆæœ€å°åŒ– return - torch.log(y_hat_target) # cross_entropy(y_hat, y).shape # # torch.Size([256]) ## è®¡ç®—åˆ†ç±»ç²¾åº¦è¯„ä»·æŒ‡æ ‡ # è®¡ç®—1ä¸ªbatchçš„åˆ†ç±»æ­£ç¡®æ•° def accuracy(y_hat, y): y_hat_class = y_hat.argmax(1) # æ ·æœ¬ç±»åˆ«é¢„æµ‹ä¸å¦(True/False) cmp = y_hat_class.type(y.dtype) == y return cmp.sum().item() # accuracy(y_hat, y) # # 8 # å®šä¹‰ä¸€ä¸ªç´¯åŠ å€¼è®¡æ•°å™¨ï¼šç”¨ä»¥ç´¯è®¡1è½®epochæ‰€æœ‰batchçš„åˆ†ç±»ç²¾åº¦ class Accumulator: def __init__(self, n): self.data = [0.0]*n # [0, 0] def add(self, *args): # [0, 0] &#43; [1, 2] = [1, 2] self.data = [a &#43; b for a, b in zip(self.data, args)] def reset(self): self.data = [0.0]*len(self.data) def __getitem__(self, idx): return self.data[idx] # è®¡ç®—æµ‹è¯•é›†çš„åˆ†ç±»ç²¾åº¦ def evaluate_accuracy(net, data_iter): metric = Accumulator(2) with torch.no_grad(): for X, y in data_iter: metric.add(accuracy(net(X), y), len(y)) Acc_avg = metric[0]/metric[1] return Acc_avg # evaluate_accuracy(net, test_iter) # # 0.0257 4ã€å®šä¹‰ä¼˜åŒ–ç®—æ³• 1 2 3 4 5 6 # (åŒçº¿æ€§å›å½’) def sgd(params, lr, batch_size): with torch.no_grad(): for param in params: param -= lr * param.grad / batch_size param.grad.zero_() 5ã€è®­ç»ƒæ¨¡å‹ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 W = torch.normal(0, 0.01, (784, 10), requires_grad = True) b = torch.zeros(10, requires_grad = True) lr = 0.01 batch_size=256 epoch_metric = [] num_epochs = 10 for epoch in range(num_epochs): train_metric = Accumulator(3) for X, y in train_iter: y_hat = net(X) l = cross_entropy(y_hat, y) l.sum().backward() sgd([W, b], lr, batch_size) train_metric.add(l.sum().item(), accuracy(y_hat, y), len(y)) acc_avg = train_metric[1]/train_metric[2] loss_avg = train_metric[0]/train_metric[2] test_acc_avg = evaluate_accuracy(net, test_iter) epoch_metric.append([loss_avg, acc_avg, test_acc_avg]) print(f&#39;epoch {epoch &#43; 1},train loss {loss_avg:.3f} | train acc {acc_avg:.3f} | test acc {test_acc_avg:.3f}&#39;) import pandas as pd epoch_metric_df = pd.DataFrame(epoch_metric, columns=[&#34;train_loss&#34;,&#34;train_acc&#34;,&#34;test_acc&#34;]) epoch_metric_df.plot.line() äºŒã€torchæ¡†æ¶ 1 2 3 4 5 import torch import torchvision from torch import nn from torch.utils import data from torchvision import transforms 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 ## (1) ç¤ºä¾‹æ•°æ® def load_data_fashion_minist(batch_size): trans = transforms.ToTensor() mnist_train = torchvision.datasets.FashionMNIST( root=&#34;./data&#34;, train=True, transform=trans, download=True) mnist_test = torchvision.datasets.FashionMNIST( root=&#34;./data&#34;, train=False, transform=trans, download=True) train_iter = data.DataLoader(mnist_train, batch_size=batch_size, shuffle=True) test_iter = data.DataLoader(mnist_train, batch_size=batch_size, shuffle=False) return train_iter, test_iter # batch_size = 256 # train_iter, test_iter = load_data_fashion_minist(batch_size) # X, y = next(iter(train_iter)) # X.shape # # torch.Size([256, 1, 28, 28]) ## (2) å®šä¹‰æ¨¡å‹ net = nn.Sequential(nn.Flatten(), nn.Linear(784, 10)) # len(net) # # 2 # net[1].weight # net[1].bias # y_hat = net(X) # y_hat.shape # # torch.Size([256, 10]) ## (3) å®šä¹‰æŸå¤±å‡½æ•° loss = nn.CrossEntropyLoss(reduction=&#39;none&#39;) # loss(y_hat, y).shape # # torch.Size([256]) # è®¡ç®—1ä¸ªbatchçš„åˆ†ç±»æ­£ç¡®æ•° def accuracy(y_hat, y): y_hat_class = y_hat.argmax(1) # æ ·æœ¬ç±»åˆ«é¢„æµ‹ä¸å¦(True/False) cmp = y_hat_class.type(y.dtype) == y return cmp.sum().item() # accuracy(y_hat, y) # # 13 # å®šä¹‰ä¸€ä¸ªç´¯åŠ å€¼è®¡æ•°å™¨ï¼šç”¨ä»¥ç´¯è®¡1è½®epochæ‰€æœ‰batchçš„åˆ†ç±»ç²¾åº¦ class Accumulator: def __init__(self, n): self.data = [0.0]*n # [0, 0] def add(self, *args): # [0, 0] &#43; [1, 2] = [1, 2] self.data = [a &#43; b for a, b in zip(self.data, args)] def reset(self): self.data = [0.0]*len(self.data) def __getitem__(self, idx): return self.data[idx] # è®¡ç®—æµ‹è¯•é›†çš„åˆ†ç±»ç²¾åº¦ def evaluate_accuracy(net, data_iter): metric = Accumulator(2) with torch.no_grad(): for X, y in data_iter: metric.add(accuracy(net(X), y), len(y)) Acc_avg = metric[0]/metric[1] return Acc_avg # evaluate_accuracy(net, test_iter) # # 0.0515 ## (4) å®šä¹‰ä¼˜åŒ–ç®—æ³• net = nn.Sequential(nn.Flatten(), nn.Linear(784, 10)) optimizer = torch.optim.SGD(net.parameters(), lr = 0.1) ## (5) è®­ç»ƒæ¨¡å‹ batch_size=256 train_iter, test_iter = load_data_fashion_minist(batch_size) epoch_metric = [] num_epochs = 10 for epoch in range(num_epochs): train_metric = Accumulator(3) net.train() for X, y in train_iter: y_hat = net(X) l = loss(y_hat, y) optimizer.zero_grad() l.mean().backward() optimizer.step() train_metric.add(l.sum().item(), accuracy(y_hat, y), len(y)) acc_avg = train_metric[1]/train_metric[2] loss_avg = train_metric[0]/train_metric[2] net.eval() test_acc_avg = evaluate_accuracy(net, test_iter) epoch_metric.append([loss_avg, acc_avg, test_acc_avg]) print(f&#39;epoch {epoch &#43; 1},train loss {loss_avg:.3f} | train acc {acc_avg:.3f} | test acc {test_acc_avg:.3f}&#39;) import pandas as pd epoch_metric_df = pd.DataFrame(epoch_metric, columns=[&#34;train_loss&#34;,&#34;train_acc&#34;,&#34;test_acc&#34;]) epoch_metric_df.plot.line() å€¼å¾—æ³¨æ„çš„æ˜¯åœ¨ä½¿ç”¨torchæ¡†æ¶æ—¶ï¼Œå¹¶æ²¡æœ‰åƒä»é›¶å®ç°é‚£æ ·è¿›è¡Œå¹‚å‡½æ•°å½’ä¸€åŒ–è½¬æ¢ã€‚
...</p>
		</section>
		<footer class="entry-footer">













Create:&amp;nbsp;&lt;span title=&#39;2022-07-31 00:00:00 &#43;0000 UTC&#39;&gt;2022-07-31&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2022-07-31&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;1281&amp;nbsp;|&amp;nbsp;3 min&amp;nbsp;|&amp;nbsp;Lishensuo</footer>
	</div>   
  <a class="entry-link" aria-label="post link to æ·±åº¦å­¦ä¹ D2L--02--softmaxå¤šåˆ†ç±»" href="https://lishensuo.github.io/en/posts/bioinfo/702%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0d2l--02--softmax%E5%A4%9A%E5%88%86%E7%B1%BB/"></a>
</article>





<article class="post-entry">
	<div class="post-info">  
		<header class="entry-header">
			<h2>æ·±åº¦å­¦ä¹ D2L--03--KæŠ˜äº¤å‰éªŒè¯çš„torchè®­ç»ƒåŸºç¡€æµç¨‹
			</h2>
		</header>
		<section class="entry-content">
			<p>1ã€åŠ è½½åº“ 1 2 3 4 5 6 7 import pandas as pd import torch from torch import nn from torch.nn import functional as F from torch.utils import data import itertools 2ã€ç¤ºä¾‹æ•°æ® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 # http://d2l-data.s3-accelerate.amazonaws.com/kaggle_house_pred_train.csv # http://d2l-data.s3-accelerate.amazonaws.com/kaggle_house_pred_test.csv train_data = pd.read_csv(&#34;../data/kaggle_house_pred_train.csv&#34;) test_data = pd.read_csv(&#34;../data/kaggle_house_pred_test.csv&#34;) train_data.shape, test_data.shape all_features = pd.concat((train_data.iloc[:, 1:-1], test_data.iloc[:, 1:])) num_features = all_features.dtypes[all_features.dtypes != &#34;object&#34;].index all_features[num_features] = all_features[num_features].apply( lambda x: (x - x.mean()) / (x.std()) ) all_features[num_features] = all_features[num_features].fillna(0) all_features = pd.get_dummies(all_features, dummy_na=True) all_features.shape n_train = train_data.shape[0] train_feats = torch.tensor(all_features[:n_train].values, dtype=torch.float32) test_feats = torch.tensor(all_features[n_train:].values, dtype=torch.float32) train_labels = torch.tensor(train_data.SalePrice.values.reshape((-1,1)), dtype=torch.float32) 3ã€å®šä¹‰æ¨¡å‹æ¡†æ¶ 1 2 3 4 5 6 7 8 9 10 11 class MLP(nn.Module): def __init__(self, in_feats, hidden_feats, dropout): super().__init__() self.hidden = nn.Linear(in_feats, hidden_feats) self.out = nn.Linear(hidden_feats, 1) self.dropout = nn.Dropout(dropout) def forward(self, X): hiddens = F.relu(self.hidden(X)) output = self.out(self.dropout(hiddens)) return output torchæ¨¡å‹åŸºç¡€ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 model = MLP(10, 6, 0.1) model ## æŸ¥çœ‹torché»˜è®¤åˆå§‹åŒ–çš„æ¯ä¸€å±‚å‚æ•° model.state_dict() model.state_dict().keys() model.state_dict()[&#39;hidden.bias&#39;] model.hidden.bias.data model.out.weight.grad == None #è‡ªå®šä¹‰æ¨¡å‹å‚æ•°åˆå§‹åŒ–æ–¹å¼ def init_normal(m): if type(m) == nn.Linear: nn.init.normal_(m.weight, mean=0, std=0.01) nn.init.zeros_(m.bias) model.apply(init_normal) model.state_dict() def xvaier(m): if type(m) == nn.Linear: nn.init.xavier_uniform_(m.weight) model.apply(xvaier) model.state_dict() #ä¿å­˜ä¸åŠ è½½æ¨¡å‹å‚æ•° torch.save(model.state_dict(), &#34;mlp.params&#34;) new_model = MLP(10, 6, 0.1) new_model.load_state_dict(torch.load(&#34;mlp.params&#34;)) #GPUåŠ é€Ÿ nvidia-smi #æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„GPUæƒ…å†µ watch -n 0.1 -d nvidia-smi #åŠ¨æ€åˆ·æ–°æŸ¥çœ‹ torch.cuda.is_available() #æ˜¯å¦æœ‰GPUèµ„æº torch.cuda.device_count() #æŸ¥çœ‹å¯ç”¨çš„GPUæ•°é‡ ##å°†æ•°æ®ä¸æ¨¡å‹éƒ½è½¬ç§»åˆ°åŒä¸€ä¸ªGPUä¸Š def try_gpu(i=0): if torch.cuda.device_count() &gt;= i &#43; 1 : return torch.device(f&#39;cuda:{i}&#39;) return torch.device(&#34;cpu&#34;) X = torch.ones(2, 3, device = try_gpu(0)) model.to(&#34;cuda:0&#34;) 4ã€å®šä¹‰æŸå¤±å‡½æ•°ä¸æ€§èƒ½è¯„ä»·æ–¹æ³• 1 2 3 4 5 6 loss = nn.MSELoss() def log_rmse(model, feature, labels): clipped_preds = torch.clamp(model(feature), 1, float(&#39;inf&#39;)) rmse = torch.sqrt(loss(torch.log(clipped_preds), torch.log(labels))) return rmse.item() 5ã€å°æ‰¹é‡è®­ç»ƒæ¡†æ¶ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 def load_array(data_arrays, batch_size, is_train=True): dataset = data.TensorDataset(*data_arrays) return data.DataLoader(dataset, batch_size, shuffle=is_train) def train(model, train_feats, train_labels, test_feats, test_labels, num_epochs, lr, weight_decay, batch_size): train_ls, test_ls = [],[] #è®°å½•æ¯ä¸€è½®epochçš„è®­ç»ƒé›†/æµ‹è¯•é›†æ€§èƒ½ train_iter = load_array((train_feats, train_labels), batch_size) optimizer = torch.optim.Adam(model.parameters(), lr = lr, weight_decay=weight_decay) for epoch in range(num_epochs): for X, y in train_iter: optimizer.zero_grad() l = loss(model(X), y) l.backward() optimizer.step() train_ls.append(log_rmse(model, train_feats, train_labels)) if test_labels is not None: test_ls.append(log_rmse(model, test_feats, test_labels)) return train_ls, test_ls 6ã€KæŠ˜äº¤å‰éªŒè¯ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 def get_k_fold_data(k, i, X, y): assert k &gt; 1 fold_size = X.shape[0] // k X_train, y_train = None, None for j in range(k): idx = slice(j*fold_size, (j&#43;1)*fold_size) X_part, y_part = X[idx, :], y[idx] if j == i: X_valid, y_valid = X_part, y_part elif X_train is None: X_train, y_train = X_part, y_part else: X_train = torch.cat([X_train, X_part], 0) y_train = torch.cat([y_train, y_part], 0) return X_train, y_train, X_valid, y_valid def k_fold(k, X_train, y_train, num_epochs, learning_rate, weight_decay, batch_size, in_feats, hidden_feats, dropout): train_l_sum, valid_l_sum = 0,0 for i in range(k): data = get_k_fold_data(k, i, X_train, y_train) model = MLP(in_feats, hidden_feats, dropout) train_ls, valid_ls = train(model, *data, num_epochs, learning_rate, weight_decay, batch_size) #å°†æœ€åä¸€è½®çš„æ€§èƒ½ä½œä¸ºè¯¥æ¨¡å‹çš„æœ€ç»ˆæ€§èƒ½ train_l_sum &#43;= train_ls[-1] valid_l_sum &#43;= valid_ls[-1] # print(f&#39;Fold-{i&#43;1}, train log rmse {float(train_ls[-1]):f},&#39; # f&#39;valid log rmse {float(valid_ls[-1]):f}&#39;) return train_l_sum / k, valid_l_sum / k # k, num_epochs, learning_rate, weight_decay, batch_size = 10, 100, 5, 0, 64 # in_feats, hidden_feats, dropout = train_feats.shape[1], 64, 0.5 # train_l, valid_l = k_fold(k, train_feats, train_labels, # num_epochs, learning_rate, weight_decay, batch_size, # in_feats, hidden_feats, dropout) 7ã€è¶…å‚æ•°éå† 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 k, num_epochs= 5, 100 in_feats = [train_feats.shape[1]] learning_rate = [0.1, 1, 3, 5] weight_decay = [0, 0.001] batch_size = [32, 64] hidden_feats = [16, 64, 128] dropout = [0, 0.1] grid_iter = itertools.product(learning_rate, weight_decay, batch_size, in_feats, hidden_feats, dropout) len_grids = len(list(grid_iter)) grid_train_l, grid_valid_l = [], [] for j, args in enumerate(itertools.product(learning_rate, weight_decay, batch_size, in_feats, hidden_feats, dropout)): print(f&#39;{j&#43;1}--{len_grids}: {args}&#39;) train_l, valid_l = k_fold(k, train_feats, train_labels, num_epochs, *args) grid_train_l.append(train_l) grid_valid_l.append(valid_l) print(f&#39;---- valid rmse {valid_l:.2f}&#39;) </p>
		</section>
		<footer class="entry-footer">













Create:&amp;nbsp;&lt;span title=&#39;2022-08-23 00:00:00 &#43;0000 UTC&#39;&gt;2022-08-23&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2022-08-23&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;882&amp;nbsp;|&amp;nbsp;2 min&amp;nbsp;|&amp;nbsp;Lishensuo</footer>
	</div>   
  <a class="entry-link" aria-label="post link to æ·±åº¦å­¦ä¹ D2L--03--KæŠ˜äº¤å‰éªŒè¯çš„torchè®­ç»ƒåŸºç¡€æµç¨‹" href="https://lishensuo.github.io/en/posts/bioinfo/703%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0d2l--03--k%E6%8A%98%E4%BA%A4%E5%8F%89%E9%AA%8C%E8%AF%81%E7%9A%84torch%E8%AE%AD%E7%BB%83%E5%9F%BA%E7%A1%80%E6%B5%81%E7%A8%8B/"></a>
</article>





<article class="post-entry">
	<div class="post-info">  
		<header class="entry-header">
			<h2>æ·±åº¦å­¦ä¹ --VAEå˜åˆ†è‡ªåŠ¨ç¼–ç å™¨
			</h2>
		</header>
		<section class="entry-content">
			<p> è‡ªåŠ¨ç¼–ç å™¨ï¼ˆAE, autoencoderï¼‰æ˜¯åº”ç”¨ç¥ç»ç½‘ç»œè¿›è¡Œæ•°æ®é™ç»´çš„æœ‰æ•ˆæ–¹ï¼Œå…¶ç»“æ„åˆ†ä¸ºç¼–ç å™¨ï¼ˆencoderï¼‰ä¸è§£ç å™¨ï¼ˆdecoderï¼‰ä¸¤éƒ¨åˆ†ï¼›åŸºäºæŸå¤±å‡½æ•°ä¼˜åŒ–ä½¿æ¨¡å‹çš„ç¼–ç å™¨è¾“å…¥æ•°æ®ä¸è§£ç å™¨è¾“å‡ºæ•°æ®å°½å¯èƒ½ç›¸ä¸€è‡´ã€‚ä¸­é—´å±‚æ•°æ®å¯è§†ä¸ºä½ç»´ç»“æœã€‚
...</p>
		</section>
		<footer class="entry-footer">













Create:&amp;nbsp;&lt;span title=&#39;2023-02-21 00:00:00 &#43;0000 UTC&#39;&gt;2023-02-21&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2023-02-21&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;1468&amp;nbsp;|&amp;nbsp;3 min&amp;nbsp;|&amp;nbsp;Lishensuo</footer>
	</div>   
  <a class="entry-link" aria-label="post link to æ·±åº¦å­¦ä¹ --VAEå˜åˆ†è‡ªåŠ¨ç¼–ç å™¨" href="https://lishensuo.github.io/en/posts/bioinfo/704%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0--vae%E5%8F%98%E5%88%86%E8%87%AA%E5%8A%A8%E7%BC%96%E7%A0%81%E5%99%A8/"></a>
</article>





<article class="post-entry">
	<div class="post-info">  
		<header class="entry-header">
			<h2>D2L--ç¬¬äºŒç« é¢„å¤‡çŸ¥è¯†
			</h2>
		</header>
		<section class="entry-content">
			<p>1. æ•°æ®æ“ä½œ 1.1 å…¥é—¨ å¼ é‡ï¼šå…·æœ‰å¤šä¸ªç»´åº¦ï¼ˆè½´ï¼‰çš„æ•°ç»„ã€‚
å…·æœ‰ä¸€ä¸ªè½´çš„å¼ é‡ï¼Œå¯¹åº”æ•°å­¦ä¸Šçš„å‘é‡ï¼›
å…·æœ‰ä¸¤ä¸ªè½´çš„å¼ é‡ï¼Œå¯¹åº”æ•°å­¦ä¸Šçš„çŸ©é˜µã€‚
åˆ›å»ºå¼ é‡
1 2 3 4 5 6 7 8 9 import torch x = torch.arange(12) # é•¿åº¦ä¸º12ä¸ªè¡Œå‘é‡ torch.zeros((2, 3, 4)) torch.ones((2, 3, 4)) torch.randn(3, 4) torch.tensor([[2,1,4,3],[1,2,3,4],[4,3,2,1]]) åŸºæœ¬ä¿¡æ¯ 1 2 3 4 5 x.shape x.numel #å…ƒç´ ä¸ªæ•° X = x.reshape(3, 4) #ä¿®æ”¹å½¢çŠ¶ x.reshape(-1, 4) x.reshape(3, -1) 1.2 è¿ç®—ç¬¦ ä»»æ„ä¸¤ä¸ªå½¢çŠ¶ç›¸åŒçš„å¼ é‡ï¼Œæ‰§è¡ŒåŸºæœ¬è¿ç®—ç¬¦æ—¶ï¼Œå‡ä¸ºæŒ‰å…ƒç´ æ“ä½œï¼Œç»“æœçš„å½¢çŠ¶ä¸å˜ã€‚ 1 2 3 4 x = torch.tensor([1.0, 2, 3, 4]) y = torch.tensor([2, 2, 2, 2]) x-y, x&#43;y, x*x, x/y, x**y å¼ é‡è¿æ¥æ“ä½œconcatenate 1 2 3 4 5 x = torch.arange(12, dtype = torch.float32).reshape(3, 4) y = torch.tensor([[2,1,4,3],[1,2,3,4],[4,3,2,1]]) torch.cat((x, y), dim = 0) #çºµå‘æ‹¼æ¥ï¼Œå¢åŠ è½´0çš„ç»´åº¦/è¡Œ torch.cat((x, y), dim = 1) #æ¨ªå‘æ‹¼æ¥ï¼Œå¢åŠ è½´1çš„ç»´åº¦/åˆ— é€»è¾‘è¿ç®—ç¬¦æ„å»ºé€»è¾‘å¼ é‡ 1 x == y 1.3 å¹¿æ’­æœºåˆ¶ å½¢çŠ¶ä¸åŒçš„ä¸¤ä¸ªå¼ é‡æ‰§è¡ŒåŸºæœ¬è¿ç®—æ—¶ï¼Œä¼šé€‚å½“å¤åˆ¶å…ƒç´ æ‰©å±•æ•°ç»„ï¼Œä½¿äºŒè€…å…·æœ‰ç›¸åŒå½¢çŠ¶ï¼Œå†æŒ‰å…ƒç´ è®¡ç®— 1 2 3 4 5 6 x = torch.arange(6) x &#43; torch.tensor(1) a = torch.arange(3).reshape(3, 1) b = torch.arange(2).reshape(1, 2) a &#43; b 1.4 ç´¢å¼•åˆ‡ç‰‡ ç±»ä¼¼Pythonæ•°ç»„æ“ä½œ 1 2 3 4 X = torch.arange(12).reshape(3, 4) X[-1] #æœ€åä¸€è¡Œ X[1:3] #ç¬¬äºŒã€ä¸‰è¡Œ X[:, 1:3] #ç¬¬äºŒã€ä¸‰åˆ— 1.5 èŠ‚çœå†…å­˜ å˜é‡åèµ‹å€¼æ–°çš„è®¡ç®—ç»“æœæ—¶ï¼Œä¼šé‡æ–°åˆ†é…å†…å­˜ 1 2 3 4 5 6 a = torch.tensor(0) before = id(a) #å†…å­˜åœ°å€ a = a &#43; torch.tensor(1) # é‡æ–°åˆ†é…å†…å­˜ id(a) == before # False åŸåœ°æ›´æ–°ã€è¦†ç›–å…ˆå‰çš„è®¡ç®—ç»“æœ 1 2 3 4 5 a = torch.tensor(0) before = id(a) #å†…å­˜åœ°å€ a[:] = a &#43; torch.tensor(1) id(a) == before 1.6 è½¬ä¸ºå…¶å®ƒPythonå¯¹è±¡ è½¬ä¸ºNumpyæ•°ç»„ 1 2 3 A = X.numpy() # tensorâ†’numpy torch.tensor(A) # numpyâ†’tensor å¤§å°ä¸º1çš„å¼ é‡è½¬ä¸ºPythonæ ‡é‡ 1 2 3 4 5 a = torch.tensor(3.0) a.item() float(a) int(a) 2. æ•°æ®é¢„å¤„ç† 2.1 è¯»å–æ•°æ®é›† 1 2 3 4 5 6 7 8 9 10 11 12 13 14 import os import pandas as pd os.makedirs(os.path.join(&#39;..&#39;,&#39;data&#39;), exist_ok=True) #ä¸Šä¸€çº§ç›®å½•åˆ›å»ºdataæ–‡ä»¶å¤¹ data_file = os.path.join(&#39;..&#39;, &#39;data&#39;, &#39;house_tiny.csv&#39;) with open(data_file, &#39;w&#39;) as f: f.write(&#39;NumRooms,Alley,Price\n&#39;) #åˆ—å f.write(&#39;NA,Pave,127500\n&#39;) #æ¯è¡Œä¸€ä¸ªæ ·æœ¬ f.write(&#39;2,NA,106000\n&#39;) f.write(&#39;4,NA,178100\n&#39;) f.write(&#39;NA,NA,140000\n&#39;) data = pd.read_csv(data_file) data 2.2 å¤„ç†ç¼ºå¤±å€¼ 1 2 3 4 5 6 7 8 9 inputs, outputs = data.iloc[:, 0:2], data.iloc[:, 2] #æŒ‰åˆ—æ‹†åˆ†ä¸ºä¸¤ä¸ªè¡¨ # æ•°å€¼ç¼ºå¤±å€¼å¡«å…… inputs = inputs.fillna(inputs.mean(numeric_only=True)) inputs # ç±»åˆ«ç¼ºå¤±å€¼å¡«å…… inputs = pd.get_dummies(inputs, dummy_na=True, dtype = float) inputs 2.3 è½¬æ¢ä¸ºå¼ é‡ 1 2 3 4 import torch X, y = torch.tensor(inputs.values), torch.tensor(outputs.values) X, y # æ·±åº¦å­¦ä¹ é€šå¸¸ç”¨float32 3. çº¿æ€§ä»£æ•° 3.1 æ ‡é‡ åªæœ‰ä¸€ä¸ªå…ƒç´ çš„å¼ é‡ æ™®é€šã€å°å†™çš„å­—æ¯è¡¨ç¤º 1 2 3 4 5 6 import torch x = torch.tensor(3.0) y = torch.tensor(4.0) x &#43; y, x - y, x / y, x ** y 3.2 å‘é‡ å…·æœ‰ä¸€ä¸ªè½´çš„å¼ é‡ ç²—ä½“ã€å°å†™çš„å­—æ¯è¡¨ç¤º 1 2 3 x = torch.arange(4) x x.shape å‘é‡/è½´çš„ç»´åº¦è¡¨ç¤ºå‘é‡æˆ–è½´çš„é•¿åº¦ï¼›
...</p>
		</section>
		<footer class="entry-footer">













Create:&amp;nbsp;&lt;span title=&#39;2024-07-21 00:00:00 &#43;0000 UTC&#39;&gt;2024-07-21&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2024-07-21&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;2515&amp;nbsp;|&amp;nbsp;6 min&amp;nbsp;|&amp;nbsp;Lishensuo</footer>
	</div>   
  <a class="entry-link" aria-label="post link to D2L--ç¬¬äºŒç« é¢„å¤‡çŸ¥è¯†" href="https://lishensuo.github.io/en/posts/bioinfo/705d2l-%E7%AC%AC%E4%BA%8C%E7%AB%A0%E9%A2%84%E5%A4%87%E7%9F%A5%E8%AF%86/"></a>
</article>





<article class="post-entry">
	<div class="post-info">  
		<header class="entry-header">
			<h2>D2L--ç¬¬ä¸‰ç« çº¿æ€§ç¥ç»ç½‘ç»œ
			</h2>
		</header>
		<section class="entry-content">
			<p>1. çº¿æ€§å›å½’ 1.1 çº¿æ€§å›å½’çš„åŸºæœ¬å…ƒç´  çº¿æ€§æ¨¡å‹ï¼šç›®æ ‡(y)å¯ä»¥è¡¨ç¤ºä¸ºè¾“å…¥ç‰¹å¾çš„åŠ æƒå’Œï¼Œå‚æ•°åŒ…æ‹¬æƒé‡å‘é‡wå’Œåç½®b æŸå¤±å‡½æ•°ï¼šè¡¨ç¤ºç›®æ ‡çš„å®é™…å€¼ä¸é¢„æµ‹å€¼ä¹‹é—´çš„å·®è·ï¼›ä¸€èˆ¬æ•°å€¼è¶Šå°ï¼ŒæŸå¤±è¶Šå°ã€‚å›å½’é—®é¢˜å¸¸ç”¨å¹³æ–¹è¯¯å·®å‡½æ•°ï¼Œå¦‚ä¸‹å…¬å¼ã€‚ ...</p>
		</section>
		<footer class="entry-footer">













Create:&amp;nbsp;&lt;span title=&#39;2024-07-21 00:00:00 &#43;0000 UTC&#39;&gt;2024-07-21&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2024-07-21&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;4277&amp;nbsp;|&amp;nbsp;9 min&amp;nbsp;|&amp;nbsp;Lishensuo</footer>
	</div>   
  <a class="entry-link" aria-label="post link to D2L--ç¬¬ä¸‰ç« çº¿æ€§ç¥ç»ç½‘ç»œ" href="https://lishensuo.github.io/en/posts/bioinfo/706d2l-%E7%AC%AC%E4%B8%89%E7%AB%A0%E7%BA%BF%E6%80%A7%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"></a>
</article>





<article class="post-entry">
	<div class="post-info">  
		<header class="entry-header">
			<h2>D2L--ç¬¬å››ç« å¤šå±‚æ„ŸçŸ¥æœº
			</h2>
		</header>
		<section class="entry-content">
			<p>1. å¤šå±‚æ„ŸçŸ¥æœº 1.1 éšè—å±‚ ä¹‹å‰æ‰€å­¦çš„çº¿æ€§æ¨¡å‹æ„å‘³ç€å•è°ƒå‡è®¾ï¼Œå¹¶ä¸é€‚ç”¨äºæ›´å¤æ‚çš„å»ºæ¨¡é—®é¢˜ï¼Œä¾‹å¦‚ä½“æ¸©ä¸ç–¾ç—…ï¼›å›¾ç‰‡æŸä¸ªåƒç´ ç‚¹çš„å¼ºåº¦ä¸çŒ«æˆ–ç‹—çš„å…³ç³»ç­‰ï¼› å¤šå±‚æ„ŸçŸ¥æœºï¼ˆMLPï¼‰ï¼šåœ¨è¾“å…¥å±‚ä¸è¾“å‡ºå±‚ä¹‹é—´åŠ å…¥ä¸€ä¸ªæˆ–å¤šä¸ªéšè—å±‚ï¼Œä»¥å­¦ä¹ æ›´åŠ å¤æ‚çš„æ¨¡å‹æƒ…å†µï¼› åªæœ‰éšè—å±‚ä¸è¾“å‡ºå±‚æ¶‰åŠåˆ°ç¥ç»å…ƒè®¡ç®—ä¸å‚æ•°æ›´æ–°ï¼Œå› æ­¤å¦‚ä¸‹ç¤ºä¾‹MLPçš„å±‚æ•°æ˜¯2ï¼› å¯¹äºå…¶ä¸­çš„éšè—å±‚éœ€è¦åº”ç”¨éçº¿æ€§çš„æ¿€æ´»å‡½æ•°ï¼ˆÏƒï¼‰ï¼Œä»¥çªç ´å¯¹ä»ä¸ºçº¿æ€§æœ¬è´¨çš„é™åˆ¶ã€‚ ...</p>
		</section>
		<footer class="entry-footer">













Create:&amp;nbsp;&lt;span title=&#39;2024-07-28 00:00:00 &#43;0000 UTC&#39;&gt;2024-07-28&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2024-07-28&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;4159&amp;nbsp;|&amp;nbsp;9 min&amp;nbsp;|&amp;nbsp;Lishensuo</footer>
	</div>   
  <a class="entry-link" aria-label="post link to D2L--ç¬¬å››ç« å¤šå±‚æ„ŸçŸ¥æœº" href="https://lishensuo.github.io/en/posts/bioinfo/707d2l-%E7%AC%AC%E5%9B%9B%E7%AB%A0%E5%A4%9A%E5%B1%82%E6%84%9F%E7%9F%A5%E6%9C%BA/"></a>
</article>





<article class="post-entry">
	<div class="post-info">  
		<header class="entry-header">
			<h2>D2L--ç¬¬äº”ç« æ·±åº¦å­¦ä¹ è®¡ç®—
			</h2>
		</header>
		<section class="entry-content">
			<p>1. å±‚å’Œå— 1.1 è‡ªå®šä¹‰å— å—/æ¨¡å—ï¼ˆblockï¼‰å¯ä»¥æè¿°å•ä¸ªå±‚ã€ç”±å¤šä¸ªå±‚ï¼ˆlayï¼‰ç»„æˆçš„ç»„ä»¶æˆ–æ•´ä¸ªç¥ç»ç½‘ç»œæ¨¡å‹æœ¬èº«ã€‚
å¤æ‚çš„æ¨¡å—ä¹Ÿå¯ä»¥ç”±ç®€å•çš„æ¨¡å—ç»„æˆ ä»ç¼–ç¨‹çš„è§’åº¦ï¼Œå—ç”±ç±»è¡¨ç¤ºï¼Œä¸€èˆ¬ç»§æ‰¿è‡ªtorchçš„nn.Module
...</p>
		</section>
		<footer class="entry-footer">













Create:&amp;nbsp;&lt;span title=&#39;2024-07-28 00:00:00 &#43;0000 UTC&#39;&gt;2024-07-28&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2024-07-28&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;2955&amp;nbsp;|&amp;nbsp;6 min&amp;nbsp;|&amp;nbsp;Lishensuo</footer>
	</div>   
  <a class="entry-link" aria-label="post link to D2L--ç¬¬äº”ç« æ·±åº¦å­¦ä¹ è®¡ç®—" href="https://lishensuo.github.io/en/posts/bioinfo/708d2l-%E7%AC%AC%E4%BA%94%E7%AB%A0%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E8%AE%A1%E7%AE%97/"></a>
</article>





<article class="post-entry">
	<div class="post-info">  
		<header class="entry-header">
			<h2>D2L--ç¬¬å…­ç« å·ç§¯ç¥ç»ç½‘ç»œ
			</h2>
		</header>
		<section class="entry-content">
			<p>1. ä»å…¨è¿æ¥å±‚åˆ°å·ç§¯ 1.1 ä¸å˜æ€§ å‡è®¾ä¸€ä¸ªåœºæ™¯ï¼šéœ€è¦åˆ¶ä½œä¸€ä¸ªæ£€æµ‹å™¨ï¼Œåœ¨ä¸€å¼ å›¾ç‰‡ä¸­æ£€æµ‹ä¸€ç§ç‰¹å®šç‰©ä½“ã€‚éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ€§è´¨ï¼š
å¹³ç§»ä¸å˜æ€§ï¼šæ— è®ºè¯¥ç‰©å“åœ¨å›¾ç‰‡çš„å“ªä¸ªä½ç½®ï¼Œéƒ½å¯ä»¥æ£€æµ‹åˆ°ï¼› å±€éƒ¨æ€§ï¼šæ£€æµ‹å™¨åªéœ€è¦å…³æ³¨å›¾åƒä¸­çš„å±€éƒ¨åŒºåŸŸï¼Œä¸è¿‡åº¦å…³æ³¨å…¶å®ƒæ— å…³åŒºåŸŸã€‚ 1.2 å¤šå±‚æ„ŸçŸ¥æœºçš„é™åˆ¶ å¯¹äºå›¾ç‰‡ï¼ˆä¾‹å¦‚12Mï¼‰åƒç´ çš„ä¸€ç»´å±•å¼€ï¼ŒåŒ…å«36Mçš„å…ƒç´ ã€‚è‹¥ä½¿ç”¨åŒ…å«100ä¸ªç¥ç»å…ƒçš„å•éšè—å±‚ï¼Œæ¨¡å‹å°±è¦3.6Bå…ƒç´ ï¼Œè®­ç»ƒéš¾åº¦è¿‡å¤§ã€‚ å·ç§¯(convolution)è®¡ç®—ï¼šè¾“å…¥Xä¸ºäºŒç»´çŸ©é˜µï¼Œè¾“å‡ºçš„éšè—è¡¨ç¤ºHä»ä¸ºçŸ©é˜µã€‚å‚æ•°åŒ…æ‹¬æƒé‡çŸ©é˜µVä¸åç½®Uã€‚Hä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½ç”±æƒé‡çŸ©é˜µVä¸è¾“å…¥Xä¸­ç›¸åº”åŒºåŸŸå…ƒç´ çš„â€™ç‚¹ç§¯â€™ï¼Œå†åŠ ä¸Šåç½®æ‰€å¾—åˆ°ã€‚ï¼ˆä¸‹å›¾æ¼”ç¤ºå¿½ç•¥äº†åç½®è®¡ç®—ï¼‰ å¹³ç§»ä¸å˜æ€§ï¼šæƒé‡çŸ©é˜µï¼ˆåˆç§°ä¸ºå·ç§¯æ ¸/æ»¤æ³¢å™¨ï¼‰åœ¨æ¯æ¬¡è®¡ç®—ä¸­ä¿æŒä¸å˜ï¼Œä»¥æå–ç›¸åŒçš„æ¨¡å¼ã€‚ å±€éƒ¨æ€§ï¼šå·ç§¯æ ¸(kernel)çš„å½¢çŠ¶é€šå¸¸è¾ƒå°(|a|&gt;â–³;|b|&gt;â–³)ï¼Œå³é’ˆå¯¹è¾“å…¥çš„å±€éƒ¨åŒºåŸŸè¿›è¡Œç‰¹å¾æå–ã€‚ ...</p>
		</section>
		<footer class="entry-footer">













Create:&amp;nbsp;&lt;span title=&#39;2024-08-04 00:00:00 &#43;0000 UTC&#39;&gt;2024-08-04&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2024-08-04&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;4106&amp;nbsp;|&amp;nbsp;9 min&amp;nbsp;|&amp;nbsp;Lishensuo</footer>
	</div>   
  <a class="entry-link" aria-label="post link to D2L--ç¬¬å…­ç« å·ç§¯ç¥ç»ç½‘ç»œ" href="https://lishensuo.github.io/en/posts/bioinfo/709d2l-%E7%AC%AC%E5%85%AD%E7%AB%A0%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://lishensuo.github.io/en/posts/bioinfo/page/10/">Â« Prev Page</a>
    <a class="next" href="https://lishensuo.github.io/en/posts/bioinfo/page/12/">Next Page Â»</a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="https://lishensuo.github.io/en/">Li&#39;s Bioinfo-Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
		<br/>æ‚¨æ˜¯æœ¬ç«™ç¬¬ <span id="busuanzi_value_site_uv"></span> ä½è®¿é—®è€…ï¼Œæ€»æµè§ˆé‡ä¸º <span id="busuanzi_value_site_pv"></span> æ¬¡
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>

<script type="text/javascript"
async
src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
tex2jax: {
inlineMath: [['$','$'], ['\\(','\\)']],
displayMath: [['$$','$$'], ['\[\[','\]\]']],
processEscapes: true,
processEnvironments: true,
skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
TeX: { equationNumbers: { autoNumber: "AMS" },
extensions: ["AMSmath.js", "AMSsymbols.js"] }
}
});

MathJax.Hub.Queue(function() {



var all = MathJax.Hub.getAllJax(), i;
for(i = 0; i < all.length; i += 1) {
all[i].SourceElement().parentNode.className += ' has-jax';
}
});
</script>

<style>
code.has-jax {
font: inherit;
font-size: 100%;
background: inherit;
border: inherit;
color: #515151;
}
</style></body>
</html>
