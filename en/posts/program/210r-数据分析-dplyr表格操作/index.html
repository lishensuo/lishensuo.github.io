<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">

<link rel="icon" href="/favicon.ico" type="image/x-icon"> 
<title>R-æ•°æ®åˆ†æ-dplyrè¡¨æ ¼æ“ä½œ | Li&#39;s Bioinfo-Blog</title>
<meta name="keywords" content="R, tidyverse">
<meta name="description" content="

1
2
3
4
5
6
7
8
9


library(tidyverse)
# -- Attaching packages ----------------------------------------------------- tidyverse 1.3.1 --
# âˆš ggplot2 3.3.5     âˆš purrr   0.3.4
# âˆš tibble  3.1.2     âˆš dplyr   1.0.7
# âˆš tidyr   1.1.3     âˆš stringr 1.4.0
# âˆš readr   2.0.0     âˆš forcats 0.5.1
# -- Conflicts -------------------------------------------------------- tidyverse_conflicts() --
# x dplyr::filter() masks stats::filter()
# x dplyr::lag()    masks stats::lag()


1ã€è¡¨æ ¼ç­›é€‰
1.1 select ç­›é€‰åˆ—
col1:col3  é€‰å–èµ·æ­¢èŒƒå›´çš„åˆ—ï¼›">
<meta name="author" content="Lishensuo">
<link rel="canonical" href="https://lishensuo.github.io/en/posts/program/210r-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-dplyr%E8%A1%A8%E6%A0%BC%E6%93%8D%E4%BD%9C/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.9e4de5e3ba61ea358168341aa7cdf70abfaafb7c697dfe8624af3ddff9a35c2f.css" integrity="sha256-nk3l47ph6jWBaDQap833Cr&#43;q&#43;3xpff6GJK893/mjXC8=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.555af97124d54bb1457985dd081b8f5616a48103aafeb30ac89fde835d65aa6c.js" integrity="sha256-VVr5cSTVS7FFeYXdCBuPVhakgQOq/rMKyJ/eg11lqmw="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://lishensuo.github.io/img/Q.gif">
<link rel="icon" type="image/png" sizes="16x16" href="https://lishensuo.github.io/img/Q.gif">
<link rel="icon" type="image/png" sizes="32x32" href="https://lishensuo.github.io/img/Q.gif">
<link rel="apple-touch-icon" href="https://lishensuo.github.io/Q.gif">
<link rel="mask-icon" href="https://lishensuo.github.io/Q.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://lishensuo.github.io/en/posts/program/210r-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-dplyr%E8%A1%A8%E6%A0%BC%E6%93%8D%E4%BD%9C/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="R-æ•°æ®åˆ†æ-dplyrè¡¨æ ¼æ“ä½œ" />
<meta property="og:description" content="

1
2
3
4
5
6
7
8
9


library(tidyverse)
# -- Attaching packages ----------------------------------------------------- tidyverse 1.3.1 --
# âˆš ggplot2 3.3.5     âˆš purrr   0.3.4
# âˆš tibble  3.1.2     âˆš dplyr   1.0.7
# âˆš tidyr   1.1.3     âˆš stringr 1.4.0
# âˆš readr   2.0.0     âˆš forcats 0.5.1
# -- Conflicts -------------------------------------------------------- tidyverse_conflicts() --
# x dplyr::filter() masks stats::filter()
# x dplyr::lag()    masks stats::lag()


1ã€è¡¨æ ¼ç­›é€‰
1.1 select ç­›é€‰åˆ—
col1:col3  é€‰å–èµ·æ­¢èŒƒå›´çš„åˆ—ï¼›" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lishensuo.github.io/en/posts/program/210r-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-dplyr%E8%A1%A8%E6%A0%BC%E6%93%8D%E4%BD%9C/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-05-08T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2022-05-08T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="R-æ•°æ®åˆ†æ-dplyrè¡¨æ ¼æ“ä½œ"/>
<meta name="twitter:description" content="

1
2
3
4
5
6
7
8
9


library(tidyverse)
# -- Attaching packages ----------------------------------------------------- tidyverse 1.3.1 --
# âˆš ggplot2 3.3.5     âˆš purrr   0.3.4
# âˆš tibble  3.1.2     âˆš dplyr   1.0.7
# âˆš tidyr   1.1.3     âˆš stringr 1.4.0
# âˆš readr   2.0.0     âˆš forcats 0.5.1
# -- Conflicts -------------------------------------------------------- tidyverse_conflicts() --
# x dplyr::filter() masks stats::filter()
# x dplyr::lag()    masks stats::lag()


1ã€è¡¨æ ¼ç­›é€‰
1.1 select ç­›é€‰åˆ—
col1:col3  é€‰å–èµ·æ­¢èŒƒå›´çš„åˆ—ï¼›"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "åˆ†ç±»",
      "item": "https://lishensuo.github.io/en/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "ğŸ“– R\u0026Python\u0026Shell --- ç¼–ç¨‹åŸºç¡€ã€å¯è§†åŒ–ç­‰",
      "item": "https://lishensuo.github.io/en/posts/program/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "R-æ•°æ®åˆ†æ-dplyrè¡¨æ ¼æ“ä½œ",
      "item": "https://lishensuo.github.io/en/posts/program/210r-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-dplyr%E8%A1%A8%E6%A0%BC%E6%93%8D%E4%BD%9C/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "R-æ•°æ®åˆ†æ-dplyrè¡¨æ ¼æ“ä½œ",
  "name": "R-æ•°æ®åˆ†æ-dplyrè¡¨æ ¼æ“ä½œ",
  "description": " 1 2 3 4 5 6 7 8 9 library(tidyverse) # -- Attaching packages ----------------------------------------------------- tidyverse 1.3.1 -- # âˆš ggplot2 3.3.5 âˆš purrr 0.3.4 # âˆš tibble 3.1.2 âˆš dplyr 1.0.7 # âˆš tidyr 1.1.3 âˆš stringr 1.4.0 # âˆš readr 2.0.0 âˆš forcats 0.5.1 # -- Conflicts -------------------------------------------------------- tidyverse_conflicts() -- # x dplyr::filter() masks stats::filter() # x dplyr::lag() masks stats::lag() 1ã€è¡¨æ ¼ç­›é€‰ 1.1 select ç­›é€‰åˆ— col1:col3 é€‰å–èµ·æ­¢èŒƒå›´çš„åˆ—ï¼›\n",
  "keywords": [
    "R", "tidyverse"
  ],
  "articleBody": " 1 2 3 4 5 6 7 8 9 library(tidyverse) # -- Attaching packages ----------------------------------------------------- tidyverse 1.3.1 -- # âˆš ggplot2 3.3.5 âˆš purrr 0.3.4 # âˆš tibble 3.1.2 âˆš dplyr 1.0.7 # âˆš tidyr 1.1.3 âˆš stringr 1.4.0 # âˆš readr 2.0.0 âˆš forcats 0.5.1 # -- Conflicts -------------------------------------------------------- tidyverse_conflicts() -- # x dplyr::filter() masks stats::filter() # x dplyr::lag() masks stats::lag() 1ã€è¡¨æ ¼ç­›é€‰ 1.1 select ç­›é€‰åˆ— col1:col3 é€‰å–èµ·æ­¢èŒƒå›´çš„åˆ—ï¼›\n!c(col1, col2) åˆ é™¤åˆ—ï¼›\neverything() å–æ‰€æœ‰åˆ—ï¼›\nlast_col() è·å–æœ€åä¸€è¡Œï¼›\nstarts_with()ã€ends_with()ã€contains()ã€matches åŒ¹é…å…·æœ‰ç‰¹å¾åˆ—åçš„åˆ—ï¼›\nall_ofã€any_ofã€where åŒ¹é…å…·æœ‰ç‰¹å¾åˆ—å€¼çš„åˆ—ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 data(mtcars) mtcars=mtcars[1:6,] # mpg cyl disp hp drat wt qsec vs am gear carb # Mazda RX4 21.0 6 160 110 3.90 2.620 16.46 0 1 4 4 # Mazda RX4 Wag 21.0 6 160 110 3.90 2.875 17.02 0 1 4 4 # Datsun 710 22.8 4 108 93 3.85 2.320 18.61 1 1 4 1 # Hornet 4 Drive 21.4 6 258 110 3.08 3.215 19.44 1 0 3 1 # Hornet Sportabout 18.7 8 360 175 3.15 3.440 17.02 0 0 3 2 # Valiant 18.1 6 225 105 2.76 3.460 20.22 1 0 3 1 mtcars %\u003e% select(mpg) #å•åˆ— mtcars %\u003e% select(\"mpg\") #å­—ç¬¦ä¸²åˆ—å(éå¿…è¦) mtcars %\u003e% select(mpg:hp) #å¤šåˆ— mtcars %\u003e% select(last_col(1)) #å€’æ•°ç¬¬äºŒåˆ— mtcars %\u003e% select(!c(mpg, am)) #åé€‰ mtcars %\u003e% select(starts_with(\"c\")) #åˆ—åä»¥på¼€å¤´çš„ mtcars %\u003e% select(where(is.numeric)) #æ•°å€¼åˆ— mtcars %\u003e% select(where(function(x) max(x)\u003e100)) #æœ€å¤§å€¼å¤§äº200çš„åˆ— mtcars %\u003e% select(hp, everything()) #æŠŠæŒ‡å®šåˆ—æ”¾åœ¨ç¬¬ä¸€åˆ— 1.2 é€‰æ‹©è¡Œ 1.2.1 filterå®šä¹‰æ¡ä»¶ç­›é€‰è¡Œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 ##(1)å…¨å±€ç­›é€‰ data(mtcars) mtcars %\u003e% filter(gear == 3) mtcars %\u003e% filter(gear == 3 \u0026 disp \u003e 200) #ä¸ mtcars %\u003e% filter(gear == 3 | disp \u003e 200) #æˆ– ##å½“ä½¿ç”¨å˜é‡åä»£æ›¿åˆ—åæ—¶ test=\"gear\" mtcars %\u003e% filter(.data[[test]] == 3) ##(2)åˆ†ç»„ç­›é€‰ï¼šæ­é…group_by() mtcars %\u003e% group_by(vs) %\u003e% filter(disp == max(disp)) #ç­›é€‰æŒ‰ vs åˆ†ç»„é‡Œï¼Œdispçš„æœ€å¤§å€¼ mtcars %\u003e% group_by(vs) %\u003e% filter(disp \u003e mean(disp)) #ç­›é€‰æŒ‰ vs åˆ†ç»„é‡Œï¼Œdisp é‡Œçš„å¤§äºå‡å€¼æ°´å¹³çš„ã€‚ 1.2.2 sliceç³»åˆ—æ–¹æ³•é€‰æ‹©è¡Œ slice() æŒ‰è¡Œç´¢å¼•å–\nslice_min(), slice_max() æŒ‰åˆ—å€¼å¤§å°å–æœ€å€¼è¡Œ\nslice_sample() éšæœºæŠ½å–è¡Œ\n1 2 3 4 5 6 7 8 9 10 11 mtcars mtcars %\u003e% slice(1) mtcars %\u003e% slice(30:n()) mtcars %\u003e% slice_max(mpg, n=5) mtcars %\u003e% slice_max(mpg, prop = 0.2) mtcars %\u003e% slice_sample(n = 5) mtcars %\u003e% slice_sample(n = 5, weight_by = wt) ##åŒæ ·å¯ä»¥æ­é…group_by()åˆ†ç»„æ“ä½œ 1.2.3 distinctå»é‡å¤è¡Œ 1 2 3 4 5 6 7 8 9 #å…±æœ‰2åˆ—10è¡Œï¼Œåˆ—å†…å®¹å‡ç”±1ã€2ã€3ç»„æˆ df \u003c- tibble( x = sample(3, 10, rep = TRUE), y = sample(3, 10, rep = TRUE) ) df %\u003e% distinct() #å»é™¤å®Œå…¨ç›¸åŒè¡Œ distinct(df, x, .keep_all=T) #å°†æŸä¸€åˆ—å»é‡å¤ df %\u003e% group_by(x) %\u003e% distinct(y, .keep_all=T) #åˆ†ç»„å»é‡ 1.2.4 countç»Ÿè®¡é¢‘æ•° 1 2 3 4 5 data(mtcars) data(mtcars) mtcars %\u003e% count(cyl) #è¿”å›cylé¢‘æ•°è¡¨ mtcars %\u003e% count(cyl, vs) #ä¸¤ä¸ªåˆ†ç»„å˜é‡ç»„åˆé¢‘æ•° mtcars %\u003e% add_count(cyl) #åœ¨åŸæœ‰è¡¨æ ¼åŸºç¡€ä¸Šå¢æ·»ä¸€åˆ—ï¼Œä¸ºç›¸åº”levelçš„countsæ€»æ•° 2ã€summariseè¡¨æ ¼ç»Ÿè®¡ mean(),median\nsd(),mad()\nmin(),max(),quantile()\nnã€n_distinct åˆ†åˆ«è¡¨ç¤ºç»Ÿè®¡è¡Œæ•°ï¼Œä¸éé‡å¤è¡Œæ•°\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 ##(1)å…¨å±€ç»Ÿè®¡ mtcars %\u003e% summarise(mean_disp = mean(disp)) mtcars %\u003e% summarise(mean_disp = min(disp), n = n(), n_gear = n_distinct(gear), test = sd(.data[[\"mpg\"]])) #å­—ç¬¦ä¸²å˜é‡å ##(2)åˆ†ç»„ç»Ÿè®¡:æ­é…group_by() mtcars %\u003e% group_by(cyl) %\u003e% summarise(mean = mean(disp), n = n()) ##(3)åˆ†ç»„å¤šåˆ—ç»Ÿè®¡:æ­é…group_by()ã€across() mtcars %\u003e% group_by(cyl) %\u003e% summarise(across(c(wt,qsec,mpg), median, .names = \"median_{.col}\")) 3ã€mutateä¿®æ”¹/åˆ›å»ºåˆ— mutate()ä¼šåœ¨åŸæœ‰è¡¨æ ¼åŸºç¡€ä¸Šä¿®æ”¹/æ–°å¢åˆ—\ntransmute()ä»…è¿”å›ä¿®æ”¹æˆ–è€…æ–°å¢çš„åˆ—\n3.1 ä¿®æ”¹åˆ— 1 2 3 4 5 data(mtcars) mtcars=mtcars[1:6,] mtcars %\u003e% mutate(wt = wt+10) #æŒ‡å®šå•åˆ—è¿ç®— mtcars %\u003e% mutate(across(c(mpg,disp), ~ (.x)^2)) #æŒ‡å®šå¤šåˆ—è¿ç®— mtcars %\u003e% mutate(across(where(is.numeric), as.integer)) #æ‰€æœ‰æ•°å€¼åˆ—æ”¹ä¸ºæ•´æ•° 3.2 æ–°å¢åˆ— 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 data(mtcars) mtcars=mtcars[1:6,] mtcars %\u003e% mutate(wt_new = wt+10) mtcars %\u003e% mutate(wt_new = wt+10, .before = 1) #æ–°å¢çš„åˆ—åœ¨ç¬¬1åˆ— mtcars %\u003e% mutate(wt_new = wt+10, .after = wt) #æ–°å¢çš„åˆ—æ”¾åœ¨wtåˆ—çš„åé¢ ##ä½¿ç”¨åŠ¨æ€å˜é‡åå‘½åæ–°å»ºçš„åˆ— test=\"new\" mtcars %\u003e% mutate('{test}' := 1) ##(1) æ ¹æ®æ•°å€¼åˆ—æ–°å¢rankåˆ— x \u003c- c(1,2,2,3,4) rank(x) #ç›¸åŒæ•°å–å¹³å‡ç§© # [1] 1.0 2.5 2.5 4.0 5.0 row_number(x) #ç›¸åŒæ•°ï¼Œæ’åœ¨å‰é¢çš„æ’åé«˜ # [1] 1 2 3 4 5 min_rank(x) #æœ‰ç›¸åŒæ’åï¼Œä¼šæœ‰gapçš„æƒ…å†µ # [1] 1 2 2 4 5 dense_rank(x) #æœ‰ç›¸åŒæ’åï¼Œæ²¡æœ‰gapçš„æƒ…å†µ # 1] 1 2 2 3 4 mtcars %\u003e% mutate(mpg_rank = min_rank(mpg)) mtcars %\u003e% mutate(mpg_rank = min_rank(-1*mpg)) ##(2)case_whenæ–°å¢å±‚çº§ç¼–ç åˆ— mtcars %\u003e% mutate(mpg_grade = case_when(mpg \u003c= 20 ~ \"C\", mpg \u003c= 22 ~ \"B\", TRUE ~ \"A\")) 4ã€arrangeè¡¨æ ¼æ’åº 1 2 3 4 5 6 7 8 mtcars %\u003e% arrange(disp) #descå‡åºæ’åˆ— mtcars %\u003e% arrange(desc(disp)) #descé™åºæ’åˆ— arrange(mtcars, carb, disp) #å…ˆæŒ‰carbå‡åºæ’åˆ—ï¼Œå†æŒ‰dispå‡åºæ’åˆ— ##åˆ†ç»„æ’åº mtcars %\u003e% group_by(cyl) %\u003e% arrange(mpg) 5ã€å…³äºè¡¨æ ¼çš„åˆ—å/è¡Œå rename: ä¿®æ”¹åˆ—å 1 2 3 4 5 6 #ä¿®æ”¹åˆ—å mtcars %\u003e% rename(mpg_new=mpg, cyl_new=cyl) #ä½¿ç”¨å˜é‡ä¿®æ”¹åˆ—å test=\"new\" mtcars %\u003e% rename('{test}':=mpg) rownames_to_columnã€column_to_rownamesè¡Œåä¸åˆ—çš„è½¬æ¢ 1 2 3 4 5 6 7 8 9 mtcars %\u003e% head #è¡Œåå˜ä¸ºåˆ— rownames_to_column(mtcars, var = \"car\") %\u003e% head mtcars %\u003e% rownames_to_column(var = \"car\") %\u003e% head mtcars %\u003e% rownames_to_column(var = \"car\") %\u003e% #æŒ‡å®šåˆ—å˜ä¸ºè¡Œå column_to_rownames(var = \"car\") %\u003e% head 6ã€ä¸¤ä¸ªè¡¨æ ¼åˆå¹¶ ç¤ºä¾‹è¡¨æ ¼æ•°æ® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 df1 \u003c- data.frame(x1 = c(1, 2, 3, 4, 5, 6), y1 = c(\"a\", \"b\", \"c\", \"d\",\"e\",\"f\")) # x1 y1 # 1 1 a # 2 2 b # 3 3 c # 4 4 d # 5 5 e # 6 6 f df2 \u003c- data.frame(x2 = c(1, 2, 3, 4, 5, 6), y2 = c(\"q\", \"w\", \"e\", \"r\",\"t\",\"y\")) # x2 y2 # 1 1 q # 2 2 w # 3 3 e # 4 4 r # 5 5 t # 6 6 y df3 \u003c- data.frame(x3 = c( 2, 4, 5, 6), y3 = c( \"a\", \"s\", \"d\",\"f\")) # x3 y3 # 1 2 a # 2 4 s # 3 5 d # 4 6 f æ ¹æ®ä¸åŒçš„åˆ†æç›®çš„ï¼Œæœ‰å¤šç§åˆå¹¶æ–¹æ³•~\n6.1 inner_join å–äº¤é›†ï¼Œå³ä¿ç•™åŒæ—¶åœ¨ä¸¤ä¸ªè¡¨ä¸­çš„è§‚æµ‹ 1 2 3 4 5 6 # merge(df1, df3, by.x = \"y1\", by.y = \"y3\") inner_join(df1, df3, by=c(\"y1\"=\"y3\")) # x1 y1 x3 # 1 1 a 2 # 2 4 d 5 # 3 6 f 6 æ³¨æ„ï¼šå¦‚æœè¿™ä¸¤ä¸ªåˆ—çš„åç›¸åŒï¼Œåˆå¹¶æ—¶ç›´æ¥äº¤ä»£è¡Œåå³å¯ï¼Œä¾‹å¦‚inner_join(df1_1, df3_1, by=\"y\")ï¼Œmerge(df1_1, df3_1, by = \"y\"),ä¸‹åŒ~\n6.2 left_join å·¦è¿æ¥â€“ä¿ç•™å·¦è¾¹è¡¨æ ¼çš„æ‰€æœ‰è§‚æµ‹ï¼Œç¼ºå¤±å€¼ç”¨NAå€¼ä»£æ›¿ 1 2 3 4 5 6 7 8 9 # merge(df1, df3, by.x = \"y1\", by.y = \"y3\", all.x = T) left_join(df1, df3, by=c(\"y1\"=\"y3\")) # x1 y1 x3 # 1 1 a 2 # 2 2 b NA # 3 3 c NA # 4 4 d 5 # 5 5 e NA # 6 6 f 6 6.3 right_join å³è¿æ¥â€“ä¿ç•™å³è¾¹è¡¨æ ¼çš„æ‰€æœ‰è§‚æµ‹ï¼Œç¼ºå¤±å€¼ç”¨NAå€¼ä»£æ›¿ 1 2 3 4 5 6 7 8 9 # merge(df1, df2, by.x = \"y1\", by.y = \"y2\", all.y = T) right_join(df1, df2, by=c(\"y1\"=\"y2\")) # x1 y1 x2 # 1 5 e 3 # 2 NA q 1 # 3 NA w 2 # 4 NA r 4 # 5 NA t 5 # 6 NA y 6 6.4 full_join å¤–è¿æ¥â€“ä¿ç•™ä¸¤ä¸ªè¡¨æ ¼é‡Œçš„æ‰€æœ‰è§‚æµ‹ï¼Œç¼ºå¤±å€¼ç”¨NAå€¼ä»£æ›¿ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 # merge(df1, df2, by.x = \"y1\", by.y = \"y2\", all.x = T, all.y = T) full_join(df1, df2, by=c(\"y1\"=\"y2\")) # x1 y1 x2 # 1 1 a NA # 2 2 b NA # 3 3 c NA # 4 4 d NA # 5 5 e 3 # 6 6 f NA # 7 NA q 1 # 8 NA w 2 # 9 NA r 4 # 10 NA t 5 # 11 NA y 6 è¡¥å……tidyr separate_rows: å°†ä¸€è¡Œçš„å†…å®¹æŒ‰ç‰¹å®šåˆ†éš”ç¬¦æ‹†åˆ†ä¸ºå¤šè¡Œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 df \u003c- data.frame( x = 1:3, y = c(\"a\", \"d,e,f\", \"g,h\") ) # x y # 1 1 a # 2 2 d,e,f # 3 3 g,h df %\u003e% tidyr::separate_rows(y, sep = \",\") # x y # # 1 1 a # 2 2 d # 3 2 e # 4 2 f # 5 3 g # 6 3 h ",
  "wordCount" : "2320",
  "inLanguage": "en",
  "datePublished": "2022-05-08T00:00:00Z",
  "dateModified": "2022-05-08T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Lishensuo"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://lishensuo.github.io/en/posts/program/210r-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-dplyr%E8%A1%A8%E6%A0%BC%E6%93%8D%E4%BD%9C/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Li's Bioinfo-Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lishensuo.github.io/img/Q.gif"
    }
  }
}
</script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://lishensuo.github.io/en/" accesskey="h" title="Li&#39;s Bioinfo-Blog (Alt + H)">Li&#39;s Bioinfo-Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://lishensuo.github.io/en/" title="ä¸»é¡µ">
                    <span>ä¸»é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/posts" title="åˆ†ç±»">
                    <span>åˆ†ç±»</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/tags" title="æ ‡ç­¾">
                    <span>æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/archives/" title="å½’æ¡£">
                    <span>å½’æ¡£</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/about" title="å…³äº">
                    <span>å…³äº</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/search" title="æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>æœç´¢</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://lishensuo.github.io/en/">Home</a>&nbsp;Â»&nbsp;<a href="https://lishensuo.github.io/en/posts/">åˆ†ç±»</a>&nbsp;Â»&nbsp;<a href="https://lishensuo.github.io/en/posts/program/">ğŸ“– R&amp;Python&amp;Shell --- ç¼–ç¨‹åŸºç¡€ã€å¯è§†åŒ–ç­‰</a></div>
    <h1 class="post-title">
      R-æ•°æ®åˆ†æ-dplyrè¡¨æ ¼æ“ä½œ
    </h1>
    <div class="post-meta">













Create:&amp;nbsp;&lt;span title=&#39;2022-05-08 00:00:00 &#43;0000 UTC&#39;&gt;2022-05-08&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2022-05-08&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;2320&amp;nbsp;|&amp;nbsp;5 min&amp;nbsp;|&amp;nbsp;Lishensuo

|  Viewers: <span id="busuanzi_value_page_pv"></span> 
	  
    </div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">Table of Contents</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#1%e8%a1%a8%e6%a0%bc%e7%ad%9b%e9%80%89" aria-label="1ã€è¡¨æ ¼ç­›é€‰">1ã€è¡¨æ ¼ç­›é€‰</a><ul>
                            
                    <li>
                        <a href="#11-select-%e7%ad%9b%e9%80%89%e5%88%97" aria-label="1.1 select ç­›é€‰åˆ—">1.1 select ç­›é€‰åˆ—</a></li>
                    <li>
                        <a href="#12-%e9%80%89%e6%8b%a9%e8%a1%8c" aria-label="1.2 é€‰æ‹©è¡Œ">1.2 é€‰æ‹©è¡Œ</a><ul>
                            
                    <li>
                        <a href="#121-filter%e5%ae%9a%e4%b9%89%e6%9d%a1%e4%bb%b6%e7%ad%9b%e9%80%89%e8%a1%8c" aria-label="1.2.1 filterå®šä¹‰æ¡ä»¶ç­›é€‰è¡Œ">1.2.1 filterå®šä¹‰æ¡ä»¶ç­›é€‰è¡Œ</a></li>
                    <li>
                        <a href="#122-slice%e7%b3%bb%e5%88%97%e6%96%b9%e6%b3%95%e9%80%89%e6%8b%a9%e8%a1%8c" aria-label="1.2.2 sliceç³»åˆ—æ–¹æ³•é€‰æ‹©è¡Œ">1.2.2 sliceç³»åˆ—æ–¹æ³•é€‰æ‹©è¡Œ</a></li>
                    <li>
                        <a href="#123-distinct%e5%8e%bb%e9%87%8d%e5%a4%8d%e8%a1%8c" aria-label="1.2.3 distinctå»é‡å¤è¡Œ">1.2.3 distinctå»é‡å¤è¡Œ</a></li>
                    <li>
                        <a href="#124-count%e7%bb%9f%e8%ae%a1%e9%a2%91%e6%95%b0" aria-label="1.2.4 countç»Ÿè®¡é¢‘æ•°">1.2.4 countç»Ÿè®¡é¢‘æ•°</a></li></ul>
                    </li></ul>
                    </li>
                    <li>
                        <a href="#2summarise%e8%a1%a8%e6%a0%bc%e7%bb%9f%e8%ae%a1" aria-label="2ã€summariseè¡¨æ ¼ç»Ÿè®¡">2ã€summariseè¡¨æ ¼ç»Ÿè®¡</a></li>
                    <li>
                        <a href="#3mutate%e4%bf%ae%e6%94%b9%e5%88%9b%e5%bb%ba%e5%88%97" aria-label="3ã€mutateä¿®æ”¹/åˆ›å»ºåˆ—">3ã€mutateä¿®æ”¹/åˆ›å»ºåˆ—</a><ul>
                            
                    <li>
                        <a href="#31-%e4%bf%ae%e6%94%b9%e5%88%97" aria-label="3.1 ä¿®æ”¹åˆ—">3.1 ä¿®æ”¹åˆ—</a></li>
                    <li>
                        <a href="#32-%e6%96%b0%e5%a2%9e%e5%88%97" aria-label="3.2 æ–°å¢åˆ—">3.2 æ–°å¢åˆ—</a></li></ul>
                    </li>
                    <li>
                        <a href="#4arrange%e8%a1%a8%e6%a0%bc%e6%8e%92%e5%ba%8f" aria-label="4ã€arrangeè¡¨æ ¼æ’åº">4ã€arrangeè¡¨æ ¼æ’åº</a></li>
                    <li>
                        <a href="#5%e5%85%b3%e4%ba%8e%e8%a1%a8%e6%a0%bc%e7%9a%84%e5%88%97%e5%90%8d%e8%a1%8c%e5%90%8d" aria-label="5ã€å…³äºè¡¨æ ¼çš„åˆ—å/è¡Œå">5ã€å…³äºè¡¨æ ¼çš„åˆ—å/è¡Œå</a></li>
                    <li>
                        <a href="#6%e4%b8%a4%e4%b8%aa%e8%a1%a8%e6%a0%bc%e5%90%88%e5%b9%b6" aria-label="6ã€ä¸¤ä¸ªè¡¨æ ¼åˆå¹¶">6ã€ä¸¤ä¸ªè¡¨æ ¼åˆå¹¶</a><ul>
                            
                    <li>
                        <a href="#61-inner_join" aria-label="6.1 inner_join">6.1 inner_join</a></li>
                    <li>
                        <a href="#62-left_join" aria-label="6.2 left_join">6.2 left_join</a></li>
                    <li>
                        <a href="#63-right_join" aria-label="6.3 right_join">6.3 right_join</a></li>
                    <li>
                        <a href="#64-full_join" aria-label="6.4 full_join">6.4 full_join</a></li></ul>
                    </li>
                    <li>
                        <a href="#%e8%a1%a5%e5%85%85tidyr" aria-label="è¡¥å……tidyr">è¡¥å……tidyr</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>


  <div class="post-content"><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>library(tidyverse)
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># -- Attaching packages ----------------------------------------------------- tidyverse 1.3.1 --</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># âˆš ggplot2 3.3.5     âˆš purrr   0.3.4</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># âˆš tibble  3.1.2     âˆš dplyr   1.0.7</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># âˆš tidyr   1.1.3     âˆš stringr 1.4.0</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># âˆš readr   2.0.0     âˆš forcats 0.5.1</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># -- Conflicts -------------------------------------------------------- tidyverse_conflicts() --</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># x dplyr::filter() masks stats::filter()</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># x dplyr::lag()    masks stats::lag()</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="1è¡¨æ ¼ç­›é€‰">1ã€è¡¨æ ¼ç­›é€‰<a hidden class="anchor" aria-hidden="true" href="#1è¡¨æ ¼ç­›é€‰">#</a></h1>
<h2 id="11-select-ç­›é€‰åˆ—">1.1 select ç­›é€‰åˆ—<a hidden class="anchor" aria-hidden="true" href="#11-select-ç­›é€‰åˆ—">#</a></h2>
<p><code>col1:col3</code>  é€‰å–èµ·æ­¢èŒƒå›´çš„åˆ—ï¼›</p>
<p><code>!c(col1, col2)</code>  åˆ é™¤åˆ—ï¼›</p>
<p><code>everything()</code>  å–æ‰€æœ‰åˆ—ï¼›</p>
<p><code>last_col()</code>  è·å–æœ€åä¸€è¡Œï¼›</p>
<p><code>starts_with()</code>ã€<code>ends_with()</code>ã€<code>contains()</code>ã€<code>matches</code>  åŒ¹é…å…·æœ‰ç‰¹å¾åˆ—åçš„åˆ—ï¼›</p>
<p><code>all_of</code>ã€<code>any_of</code>ã€<code>where</code> åŒ¹é…å…·æœ‰ç‰¹å¾åˆ—å€¼çš„åˆ—ã€‚</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>data(mtcars)
</span></span><span style="display:flex;"><span>mtcars=mtcars[1:<span style="color:#ff0;font-weight:bold">6</span>,]
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#                    mpg cyl disp  hp drat    wt  qsec vs am gear carb</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% select(mpg)                           <span style="color:#007f7f">#å•åˆ—</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% select(<span style="color:#0ff;font-weight:bold">&#34;mpg&#34;</span>)                         <span style="color:#007f7f">#å­—ç¬¦ä¸²åˆ—å(éå¿…è¦)</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% select(mpg:hp)                        <span style="color:#007f7f">#å¤šåˆ—</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% select(last_col(<span style="color:#ff0;font-weight:bold">1</span>))                   <span style="color:#007f7f">#å€’æ•°ç¬¬äºŒåˆ—</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% select(!c(mpg, am))                   <span style="color:#007f7f">#åé€‰</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% select(starts_with(<span style="color:#0ff;font-weight:bold">&#34;c&#34;</span>))              <span style="color:#007f7f">#åˆ—åä»¥på¼€å¤´çš„</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% select(where(is.numeric))             <span style="color:#007f7f">#æ•°å€¼åˆ—</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% select(where(<span style="color:#fff;font-weight:bold">function</span>(x) max(x)&gt;<span style="color:#ff0;font-weight:bold">100</span>)) <span style="color:#007f7f">#æœ€å¤§å€¼å¤§äº200çš„åˆ—</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% select(hp, everything())              <span style="color:#007f7f">#æŠŠæŒ‡å®šåˆ—æ”¾åœ¨ç¬¬ä¸€åˆ—                       </span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="12-é€‰æ‹©è¡Œ">1.2 é€‰æ‹©è¡Œ<a hidden class="anchor" aria-hidden="true" href="#12-é€‰æ‹©è¡Œ">#</a></h2>
<h3 id="121-filterå®šä¹‰æ¡ä»¶ç­›é€‰è¡Œ">1.2.1 filterå®šä¹‰æ¡ä»¶ç­›é€‰è¡Œ<a hidden class="anchor" aria-hidden="true" href="#121-filterå®šä¹‰æ¡ä»¶ç­›é€‰è¡Œ">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#007f7f">##(1)å…¨å±€ç­›é€‰</span>
</span></span><span style="display:flex;"><span>data(mtcars)
</span></span><span style="display:flex;"><span>mtcars %&gt;% filter(gear == <span style="color:#ff0;font-weight:bold">3</span>)
</span></span><span style="display:flex;"><span>mtcars %&gt;% filter(gear == <span style="color:#ff0;font-weight:bold">3</span> &amp; disp &gt; <span style="color:#ff0;font-weight:bold">200</span>) <span style="color:#007f7f">#ä¸</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% filter(gear == <span style="color:#ff0;font-weight:bold">3</span> | disp &gt; <span style="color:#ff0;font-weight:bold">200</span>) <span style="color:#007f7f">#æˆ–</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">##å½“ä½¿ç”¨å˜é‡åä»£æ›¿åˆ—åæ—¶</span>
</span></span><span style="display:flex;"><span>test=<span style="color:#0ff;font-weight:bold">&#34;gear&#34;</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% filter(.data[[test]] == <span style="color:#ff0;font-weight:bold">3</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">##(2)åˆ†ç»„ç­›é€‰ï¼šæ­é…group_by()</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% 
</span></span><span style="display:flex;"><span>  group_by(vs) %&gt;%
</span></span><span style="display:flex;"><span>  filter(disp == max(disp)) <span style="color:#007f7f">#ç­›é€‰æŒ‰ vs åˆ†ç»„é‡Œï¼Œdispçš„æœ€å¤§å€¼</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% 
</span></span><span style="display:flex;"><span>  group_by(vs) %&gt;%
</span></span><span style="display:flex;"><span>  filter(disp &gt; mean(disp)) <span style="color:#007f7f">#ç­›é€‰æŒ‰ vs åˆ†ç»„é‡Œï¼Œdisp é‡Œçš„å¤§äºå‡å€¼æ°´å¹³çš„ã€‚</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="122-sliceç³»åˆ—æ–¹æ³•é€‰æ‹©è¡Œ">1.2.2 sliceç³»åˆ—æ–¹æ³•é€‰æ‹©è¡Œ<a hidden class="anchor" aria-hidden="true" href="#122-sliceç³»åˆ—æ–¹æ³•é€‰æ‹©è¡Œ">#</a></h3>
<p><code>slice()</code>  æŒ‰è¡Œç´¢å¼•å–</p>
<p><code>slice_min()</code>, <code>slice_max()</code> æŒ‰åˆ—å€¼å¤§å°å–æœ€å€¼è¡Œ</p>
<p><code>slice_sample()</code> éšæœºæŠ½å–è¡Œ</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>mtcars
</span></span><span style="display:flex;"><span>mtcars %&gt;% slice(<span style="color:#ff0;font-weight:bold">1</span>)
</span></span><span style="display:flex;"><span>mtcars %&gt;% slice(<span style="color:#ff0;font-weight:bold">30</span>:n())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% slice_max(mpg, n=<span style="color:#ff0;font-weight:bold">5</span>)
</span></span><span style="display:flex;"><span>mtcars %&gt;% slice_max(mpg, prop = <span style="color:#ff0;font-weight:bold">0.2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% slice_sample(n = <span style="color:#ff0;font-weight:bold">5</span>)
</span></span><span style="display:flex;"><span>mtcars %&gt;% slice_sample(n = <span style="color:#ff0;font-weight:bold">5</span>, weight_by = wt)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">##åŒæ ·å¯ä»¥æ­é…group_by()åˆ†ç»„æ“ä½œ</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="123-distinctå»é‡å¤è¡Œ">1.2.3 distinctå»é‡å¤è¡Œ<a hidden class="anchor" aria-hidden="true" href="#123-distinctå»é‡å¤è¡Œ">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#007f7f">#å…±æœ‰2åˆ—10è¡Œï¼Œåˆ—å†…å®¹å‡ç”±1ã€2ã€3ç»„æˆ</span>
</span></span><span style="display:flex;"><span>df &lt;- tibble(
</span></span><span style="display:flex;"><span>  x = sample(<span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">10</span>, rep = <span style="color:#fff;font-weight:bold">TRUE</span>),
</span></span><span style="display:flex;"><span>  y = sample(<span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">10</span>, rep = <span style="color:#fff;font-weight:bold">TRUE</span>)
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df %&gt;% distinct()                                <span style="color:#007f7f">#å»é™¤å®Œå…¨ç›¸åŒè¡Œ</span>
</span></span><span style="display:flex;"><span>distinct(df, x, .keep_all=<span style="color:#fff;font-weight:bold">T</span>)                     <span style="color:#007f7f">#å°†æŸä¸€åˆ—å»é‡å¤</span>
</span></span><span style="display:flex;"><span>df %&gt;% group_by(x) %&gt;% distinct(y, .keep_all=<span style="color:#fff;font-weight:bold">T</span>)  <span style="color:#007f7f">#åˆ†ç»„å»é‡</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="124-countç»Ÿè®¡é¢‘æ•°">1.2.4 countç»Ÿè®¡é¢‘æ•°<a hidden class="anchor" aria-hidden="true" href="#124-countç»Ÿè®¡é¢‘æ•°">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>data(mtcars)
</span></span><span style="display:flex;"><span>data(mtcars)
</span></span><span style="display:flex;"><span>mtcars %&gt;% count(cyl)           <span style="color:#007f7f">#è¿”å›cylé¢‘æ•°è¡¨</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% count(cyl, vs)       <span style="color:#007f7f">#ä¸¤ä¸ªåˆ†ç»„å˜é‡ç»„åˆé¢‘æ•°</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% add_count(cyl)       <span style="color:#007f7f">#åœ¨åŸæœ‰è¡¨æ ¼åŸºç¡€ä¸Šå¢æ·»ä¸€åˆ—ï¼Œä¸ºç›¸åº”levelçš„countsæ€»æ•°</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="2summariseè¡¨æ ¼ç»Ÿè®¡">2ã€summariseè¡¨æ ¼ç»Ÿè®¡<a hidden class="anchor" aria-hidden="true" href="#2summariseè¡¨æ ¼ç»Ÿè®¡">#</a></h1>
<p><code>mean()</code>,<code>median</code></p>
<p><code>sd()</code>,<code>mad()</code></p>
<p><code>min()</code>,<code>max()</code>,<code>quantile()</code></p>
<p><code>n</code>ã€<code>n_distinct</code> åˆ†åˆ«è¡¨ç¤ºç»Ÿè®¡è¡Œæ•°ï¼Œä¸éé‡å¤è¡Œæ•°</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#007f7f">##(1)å…¨å±€ç»Ÿè®¡</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% summarise(mean_disp = mean(disp))
</span></span><span style="display:flex;"><span>mtcars %&gt;% summarise(mean_disp = min(disp),
</span></span><span style="display:flex;"><span>                     n = n(),
</span></span><span style="display:flex;"><span>                     n_gear = n_distinct(gear),
</span></span><span style="display:flex;"><span>                     test = sd(.data[[<span style="color:#0ff;font-weight:bold">&#34;mpg&#34;</span>]])) <span style="color:#007f7f">#å­—ç¬¦ä¸²å˜é‡å</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">##(2)åˆ†ç»„ç»Ÿè®¡:æ­é…group_by()</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;%
</span></span><span style="display:flex;"><span>  group_by(cyl) %&gt;%  
</span></span><span style="display:flex;"><span>  summarise(mean = mean(disp), n = n()) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">##(3)åˆ†ç»„å¤šåˆ—ç»Ÿè®¡:æ­é…group_by()ã€across()</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;%
</span></span><span style="display:flex;"><span>  group_by(cyl) %&gt;% 
</span></span><span style="display:flex;"><span>  summarise(across(c(wt,qsec,mpg), median, .names = <span style="color:#0ff;font-weight:bold">&#34;median_{.col}&#34;</span>)) 
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="3mutateä¿®æ”¹åˆ›å»ºåˆ—">3ã€mutateä¿®æ”¹/åˆ›å»ºåˆ—<a hidden class="anchor" aria-hidden="true" href="#3mutateä¿®æ”¹åˆ›å»ºåˆ—">#</a></h1>
<p><code>mutate()</code>ä¼šåœ¨åŸæœ‰è¡¨æ ¼åŸºç¡€ä¸Šä¿®æ”¹/æ–°å¢åˆ—</p>
<p><code>transmute()</code>ä»…è¿”å›ä¿®æ”¹æˆ–è€…æ–°å¢çš„åˆ—</p>
<h2 id="31-ä¿®æ”¹åˆ—">3.1 ä¿®æ”¹åˆ—<a hidden class="anchor" aria-hidden="true" href="#31-ä¿®æ”¹åˆ—">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>data(mtcars)
</span></span><span style="display:flex;"><span>mtcars=mtcars[1:<span style="color:#ff0;font-weight:bold">6</span>,]
</span></span><span style="display:flex;"><span>mtcars %&gt;% mutate(wt = wt<span style="color:#ff0;font-weight:bold">+10</span>)                            <span style="color:#007f7f">#æŒ‡å®šå•åˆ—è¿ç®—</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% mutate(across(c(mpg,disp), ~ (.x)^2))         <span style="color:#007f7f">#æŒ‡å®šå¤šåˆ—è¿ç®—</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% mutate(across(where(is.numeric), as.integer)) <span style="color:#007f7f">#æ‰€æœ‰æ•°å€¼åˆ—æ”¹ä¸ºæ•´æ•°</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="32-æ–°å¢åˆ—">3.2 æ–°å¢åˆ—<a hidden class="anchor" aria-hidden="true" href="#32-æ–°å¢åˆ—">#</a></h2>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>data(mtcars)
</span></span><span style="display:flex;"><span>mtcars=mtcars[1:<span style="color:#ff0;font-weight:bold">6</span>,]
</span></span><span style="display:flex;"><span>mtcars %&gt;% mutate(wt_new = wt<span style="color:#ff0;font-weight:bold">+10</span>)
</span></span><span style="display:flex;"><span>mtcars %&gt;% mutate(wt_new = wt<span style="color:#ff0;font-weight:bold">+10</span>, .before = <span style="color:#ff0;font-weight:bold">1</span>)  <span style="color:#007f7f">#æ–°å¢çš„åˆ—åœ¨ç¬¬1åˆ—</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% mutate(wt_new = wt<span style="color:#ff0;font-weight:bold">+10</span>, .after = wt)  <span style="color:#007f7f">#æ–°å¢çš„åˆ—æ”¾åœ¨wtåˆ—çš„åé¢</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">##ä½¿ç”¨åŠ¨æ€å˜é‡åå‘½åæ–°å»ºçš„åˆ—</span>
</span></span><span style="display:flex;"><span>test=<span style="color:#0ff;font-weight:bold">&#34;new&#34;</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% mutate(<span style="color:#0ff;font-weight:bold">&#39;{test}&#39;</span> := <span style="color:#ff0;font-weight:bold">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">##(1) æ ¹æ®æ•°å€¼åˆ—æ–°å¢rankåˆ—</span>
</span></span><span style="display:flex;"><span>x &lt;- c(<span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">2</span>,<span style="color:#ff0;font-weight:bold">3</span>,<span style="color:#ff0;font-weight:bold">4</span>)
</span></span><span style="display:flex;"><span>rank(x)         <span style="color:#007f7f">#ç›¸åŒæ•°å–å¹³å‡ç§©</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># [1] 1.0 2.5 2.5 4.0 5.0</span>
</span></span><span style="display:flex;"><span>row_number(x)   <span style="color:#007f7f">#ç›¸åŒæ•°ï¼Œæ’åœ¨å‰é¢çš„æ’åé«˜</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># [1] 1 2 3 4 5</span>
</span></span><span style="display:flex;"><span>min_rank(x)     <span style="color:#007f7f">#æœ‰ç›¸åŒæ’åï¼Œä¼šæœ‰gapçš„æƒ…å†µ</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># [1] 1 2 2 4 5</span>
</span></span><span style="display:flex;"><span>dense_rank(x)   <span style="color:#007f7f">#æœ‰ç›¸åŒæ’åï¼Œæ²¡æœ‰gapçš„æƒ…å†µ</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1] 1 2 2 3 4</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% mutate(mpg_rank = min_rank(mpg)) 
</span></span><span style="display:flex;"><span>mtcars %&gt;% mutate(mpg_rank = min_rank(<span style="color:#ff0;font-weight:bold">-1</span>*mpg)) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">##(2)case_whenæ–°å¢å±‚çº§ç¼–ç åˆ—</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% mutate(mpg_grade = case_when(mpg &lt;= <span style="color:#ff0;font-weight:bold">20</span> ~ <span style="color:#0ff;font-weight:bold">&#34;C&#34;</span>,
</span></span><span style="display:flex;"><span>                                        mpg &lt;= <span style="color:#ff0;font-weight:bold">22</span> ~ <span style="color:#0ff;font-weight:bold">&#34;B&#34;</span>,
</span></span><span style="display:flex;"><span>                                        <span style="color:#fff;font-weight:bold">TRUE</span>      ~ <span style="color:#0ff;font-weight:bold">&#34;A&#34;</span>))
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="4arrangeè¡¨æ ¼æ’åº">4ã€arrangeè¡¨æ ¼æ’åº<a hidden class="anchor" aria-hidden="true" href="#4arrangeè¡¨æ ¼æ’åº">#</a></h1>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>mtcars %&gt;% arrange(disp)        <span style="color:#007f7f">#descå‡åºæ’åˆ—</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% arrange(desc(disp))  <span style="color:#007f7f">#descé™åºæ’åˆ—</span>
</span></span><span style="display:flex;"><span>arrange(mtcars, carb, disp)     <span style="color:#007f7f">#å…ˆæŒ‰carbå‡åºæ’åˆ—ï¼Œå†æŒ‰dispå‡åºæ’åˆ—</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">##åˆ†ç»„æ’åº</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% 
</span></span><span style="display:flex;"><span>  group_by(cyl) %&gt;%
</span></span><span style="display:flex;"><span>  arrange(mpg)  
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="5å…³äºè¡¨æ ¼çš„åˆ—åè¡Œå">5ã€å…³äºè¡¨æ ¼çš„åˆ—å/è¡Œå<a hidden class="anchor" aria-hidden="true" href="#5å…³äºè¡¨æ ¼çš„åˆ—åè¡Œå">#</a></h1>
<ul>
<li><code>rename</code>: ä¿®æ”¹åˆ—å</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#007f7f">#ä¿®æ”¹åˆ—å</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% rename(mpg_new=mpg, cyl_new=cyl)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#ä½¿ç”¨å˜é‡ä¿®æ”¹åˆ—å</span>
</span></span><span style="display:flex;"><span>test=<span style="color:#0ff;font-weight:bold">&#34;new&#34;</span>
</span></span><span style="display:flex;"><span>mtcars %&gt;% rename(<span style="color:#0ff;font-weight:bold">&#39;{test}&#39;</span>:=mpg)
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li><code>rownames_to_column</code>ã€<code>column_to_rownames</code>è¡Œåä¸åˆ—çš„è½¬æ¢</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>mtcars %&gt;% head
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#è¡Œåå˜ä¸ºåˆ—</span>
</span></span><span style="display:flex;"><span>rownames_to_column(mtcars, var = <span style="color:#0ff;font-weight:bold">&#34;car&#34;</span>) %&gt;% head
</span></span><span style="display:flex;"><span>mtcars %&gt;% 
</span></span><span style="display:flex;"><span>  rownames_to_column(var = <span style="color:#0ff;font-weight:bold">&#34;car&#34;</span>) %&gt;% head
</span></span><span style="display:flex;"><span>mtcars %&gt;% 
</span></span><span style="display:flex;"><span>  rownames_to_column(var = <span style="color:#0ff;font-weight:bold">&#34;car&#34;</span>) %&gt;%
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#æŒ‡å®šåˆ—å˜ä¸ºè¡Œå</span>
</span></span><span style="display:flex;"><span>  column_to_rownames(var = <span style="color:#0ff;font-weight:bold">&#34;car&#34;</span>) %&gt;% head
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="6ä¸¤ä¸ªè¡¨æ ¼åˆå¹¶">6ã€ä¸¤ä¸ªè¡¨æ ¼åˆå¹¶<a hidden class="anchor" aria-hidden="true" href="#6ä¸¤ä¸ªè¡¨æ ¼åˆå¹¶">#</a></h1>
<ul>
<li>ç¤ºä¾‹è¡¨æ ¼æ•°æ®</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>df1 &lt;- data.frame(x1 = c(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>),
</span></span><span style="display:flex;"><span>                    y1 = c(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;b&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;c&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;d&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;e&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;f&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#   x1 y1</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1  1  a</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 2  2  b</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 3  3  c</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 4  4  d</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 5  5  e</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 6  6  f</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df2 &lt;- data.frame(x2 = c(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>),
</span></span><span style="display:flex;"><span>                    y2 = c(<span style="color:#0ff;font-weight:bold">&#34;q&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;w&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;e&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;r&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;t&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;y&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#   x2 y2</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1  1  q</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 2  2  w</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 3  3  e</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 4  4  r</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 5  5  t</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 6  6  y</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df3 &lt;- data.frame(x3 = c( <span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#ff0;font-weight:bold">6</span>),
</span></span><span style="display:flex;"><span>                    y3 = c( <span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;s&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;d&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;f&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#   x3 y3</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1  2  a</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 2  4  s</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 3  5  d</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 4  6  f</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>æ ¹æ®ä¸åŒçš„åˆ†æç›®çš„ï¼Œæœ‰å¤šç§åˆå¹¶æ–¹æ³•~</p>
<h2 id="61-inner_join">6.1 inner_join<a hidden class="anchor" aria-hidden="true" href="#61-inner_join">#</a></h2>
<ul>
<li>å–äº¤é›†ï¼Œå³ä¿ç•™åŒæ—¶åœ¨ä¸¤ä¸ªè¡¨ä¸­çš„è§‚æµ‹</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#007f7f"># merge(df1, df3, by.x = &#34;y1&#34;, by.y = &#34;y3&#34;)</span>
</span></span><span style="display:flex;"><span>inner_join(df1, df3, by=c(<span style="color:#0ff;font-weight:bold">&#34;y1&#34;</span>=<span style="color:#0ff;font-weight:bold">&#34;y3&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#   x1 y1 x3</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1  1  a  2</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 2  4  d  5</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 3  6  f  6</span>
</span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<p>æ³¨æ„ï¼šå¦‚æœè¿™ä¸¤ä¸ªåˆ—çš„åç›¸åŒï¼Œåˆå¹¶æ—¶ç›´æ¥äº¤ä»£è¡Œåå³å¯ï¼Œä¾‹å¦‚<code>inner_join(df1_1, df3_1, by=&quot;y&quot;)</code>ï¼Œ<code>merge(df1_1, df3_1, by = &quot;y&quot;)</code>,ä¸‹åŒ~</p></blockquote>
<h2 id="62-left_join">6.2 left_join<a hidden class="anchor" aria-hidden="true" href="#62-left_join">#</a></h2>
<ul>
<li>å·¦è¿æ¥&ndash;ä¿ç•™å·¦è¾¹è¡¨æ ¼çš„æ‰€æœ‰è§‚æµ‹ï¼Œç¼ºå¤±å€¼ç”¨<code>NA</code>å€¼ä»£æ›¿</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#007f7f"># merge(df1, df3, by.x = &#34;y1&#34;, by.y = &#34;y3&#34;, all.x = T)</span>
</span></span><span style="display:flex;"><span>left_join(df1, df3, by=c(<span style="color:#0ff;font-weight:bold">&#34;y1&#34;</span>=<span style="color:#0ff;font-weight:bold">&#34;y3&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#   x1 y1 x3</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1  1  a  2</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 2  2  b NA</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 3  3  c NA</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 4  4  d  5</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 5  5  e NA</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 6  6  f  6</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="63-right_join">6.3 right_join<a hidden class="anchor" aria-hidden="true" href="#63-right_join">#</a></h2>
<ul>
<li>å³è¿æ¥&ndash;ä¿ç•™å³è¾¹è¡¨æ ¼çš„æ‰€æœ‰è§‚æµ‹ï¼Œç¼ºå¤±å€¼ç”¨<code>NA</code>å€¼ä»£æ›¿</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#007f7f"># merge(df1, df2, by.x = &#34;y1&#34;, by.y = &#34;y2&#34;, all.y = T)</span>
</span></span><span style="display:flex;"><span>right_join(df1, df2, by=c(<span style="color:#0ff;font-weight:bold">&#34;y1&#34;</span>=<span style="color:#0ff;font-weight:bold">&#34;y2&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#   x1 y1 x2</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1  5  e  3</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 2 NA  q  1</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 3 NA  w  2</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 4 NA  r  4</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 5 NA  t  5</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 6 NA  y  6</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="64-full_join">6.4 full_join<a hidden class="anchor" aria-hidden="true" href="#64-full_join">#</a></h2>
<ul>
<li>å¤–è¿æ¥&ndash;ä¿ç•™ä¸¤ä¸ªè¡¨æ ¼é‡Œçš„æ‰€æœ‰è§‚æµ‹ï¼Œç¼ºå¤±å€¼ç”¨<code>NA</code>å€¼ä»£æ›¿</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span><span style="color:#007f7f"># merge(df1, df2, by.x = &#34;y1&#34;, by.y = &#34;y2&#34;, all.x = T, all.y = T)</span>
</span></span><span style="display:flex;"><span>full_join(df1, df2, by=c(<span style="color:#0ff;font-weight:bold">&#34;y1&#34;</span>=<span style="color:#0ff;font-weight:bold">&#34;y2&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#    x1 y1 x2</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1   1  a NA</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 2   2  b NA</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 3   3  c NA</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 4   4  d NA</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 5   5  e  3</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 6   6  f NA</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 7  NA  q  1</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 8  NA  w  2</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 9  NA  r  4</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 10 NA  t  5</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 11 NA  y  6</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="è¡¥å……tidyr">è¡¥å……tidyr<a hidden class="anchor" aria-hidden="true" href="#è¡¥å……tidyr">#</a></h1>
<ul>
<li><code>separate_rows</code>: å°†ä¸€è¡Œçš„å†…å®¹æŒ‰ç‰¹å®šåˆ†éš”ç¬¦æ‹†åˆ†ä¸ºå¤šè¡Œ</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-R" data-lang="R"><span style="display:flex;"><span>df &lt;- data.frame(
</span></span><span style="display:flex;"><span>  x = <span style="color:#ff0;font-weight:bold">1</span>:<span style="color:#ff0;font-weight:bold">3</span>,
</span></span><span style="display:flex;"><span>  y = c(<span style="color:#0ff;font-weight:bold">&#34;a&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;d,e,f&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;g,h&#34;</span>)
</span></span><span style="display:flex;"><span>)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#   x     y</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1 1     a</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 2 2 d,e,f</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 3 3   g,h</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df %&gt;% 
</span></span><span style="display:flex;"><span>  tidyr::separate_rows(y, sep = <span style="color:#0ff;font-weight:bold">&#34;,&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#       x y    </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#    &lt;int&gt; &lt;chr&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 1     1 a    </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 2     2 d    </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 3     2 e    </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 4     2 f    </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 5     3 g    </span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 6     3 h</span>
</span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://lishensuo.github.io/en/tags/r/">R</a></li>
      <li><a href="https://lishensuo.github.io/en/tags/tidyverse/">Tidyverse</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://lishensuo.github.io/en/posts/basic/208%E6%96%87%E7%8C%AE--%E7%9F%AD%E8%AF%BB%E5%92%8C%E9%95%BF%E8%AF%BB-rna-%E6%B5%8B%E5%BA%8F%E6%96%B9%E6%B3%95%E5%8D%8F%E8%B0%83rna%E5%8A%A0%E5%B7%A5/">
    <span class="title">Â« Prev Page</span>
    <br>
    <span>æ–‡çŒ®--ä½¿ç”¨çŸ­è¯»é•¿å’Œé•¿è¯»é•¿RNAæµ‹åºæ–¹æ³•é˜æ˜RNAåŠ å·¥çš„åè°ƒæ€§</span>
  </a>
  <a class="next" href="https://lishensuo.github.io/en/posts/program/211r-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90-reshape2%E8%A1%A8%E6%A0%BC%E9%95%BF%E7%9F%AD%E8%BD%AC%E6%8D%A2/">
    <span class="title">Next Page Â»</span>
    <br>
    <span>R-æ•°æ®åˆ†æ-reshape2è¡¨æ ¼é•¿çŸ­è½¬æ¢</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="https://lishensuo.github.io/en/">Li&#39;s Bioinfo-Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
		<br/>æ‚¨æ˜¯æœ¬ç«™ç¬¬ <span id="busuanzi_value_site_uv"></span> ä½è®¿é—®è€…ï¼Œæ€»æµè§ˆé‡ä¸º <span id="busuanzi_value_site_pv"></span> æ¬¡
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

<script type="text/javascript"
async
src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
tex2jax: {
inlineMath: [['$','$'], ['\\(','\\)']],
displayMath: [['$$','$$'], ['\[\[','\]\]']],
processEscapes: true,
processEnvironments: true,
skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
TeX: { equationNumbers: { autoNumber: "AMS" },
extensions: ["AMSmath.js", "AMSsymbols.js"] }
}
});

MathJax.Hub.Queue(function() {



var all = MathJax.Hub.getAllJax(), i;
for(i = 0; i < all.length; i += 1) {
all[i].SourceElement().parentNode.className += ' has-jax';
}
});
</script>

<style>
code.has-jax {
font: inherit;
font-size: 100%;
background: inherit;
border: inherit;
color: #515151;
}
</style></body>
</html>
