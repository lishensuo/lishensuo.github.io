<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">

<link rel="icon" href="/favicon.ico" type="image/x-icon"> 
<title>MySQL初学 | Li&#39;s Bioinfo-Blog</title>
<meta name="keywords" content="计算机基础">
<meta name="description" content="
MySQL是一个常用的数据库管理系统，关于数据库可以简单理解多个有关联的二维表组成。
其中SQL(Structured Query Language)指操作关系型数据库的编程语言。">
<meta name="author" content="Lishensuo">
<link rel="canonical" href="https://lishensuo.github.io/en/posts/program/600mysql%E5%88%9D%E5%AD%A6/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.9e4de5e3ba61ea358168341aa7cdf70abfaafb7c697dfe8624af3ddff9a35c2f.css" integrity="sha256-nk3l47ph6jWBaDQap833Cr&#43;q&#43;3xpff6GJK893/mjXC8=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.555af97124d54bb1457985dd081b8f5616a48103aafeb30ac89fde835d65aa6c.js" integrity="sha256-VVr5cSTVS7FFeYXdCBuPVhakgQOq/rMKyJ/eg11lqmw="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://lishensuo.github.io/img/Q.gif">
<link rel="icon" type="image/png" sizes="16x16" href="https://lishensuo.github.io/img/Q.gif">
<link rel="icon" type="image/png" sizes="32x32" href="https://lishensuo.github.io/img/Q.gif">
<link rel="apple-touch-icon" href="https://lishensuo.github.io/Q.gif">
<link rel="mask-icon" href="https://lishensuo.github.io/Q.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://lishensuo.github.io/en/posts/program/600mysql%E5%88%9D%E5%AD%A6/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="MySQL初学" />
<meta property="og:description" content="
MySQL是一个常用的数据库管理系统，关于数据库可以简单理解多个有关联的二维表组成。
其中SQL(Structured Query Language)指操作关系型数据库的编程语言。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lishensuo.github.io/en/posts/program/600mysql%E5%88%9D%E5%AD%A6/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-10-22T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2022-10-22T00:00:00&#43;00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="MySQL初学"/>
<meta name="twitter:description" content="
MySQL是一个常用的数据库管理系统，关于数据库可以简单理解多个有关联的二维表组成。
其中SQL(Structured Query Language)指操作关系型数据库的编程语言。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "分类",
      "item": "https://lishensuo.github.io/en/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "📖 R\u0026Python\u0026Shell --- 编程基础、可视化等",
      "item": "https://lishensuo.github.io/en/posts/program/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "MySQL初学",
      "item": "https://lishensuo.github.io/en/posts/program/600mysql%E5%88%9D%E5%AD%A6/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "MySQL初学",
  "name": "MySQL初学",
  "description": " MySQL是一个常用的数据库管理系统，关于数据库可以简单理解多个有关联的二维表组成。\n其中SQL(Structured Query Language)指操作关系型数据库的编程语言。\n",
  "keywords": [
    "计算机基础"
  ],
  "articleBody": " MySQL是一个常用的数据库管理系统，关于数据库可以简单理解多个有关联的二维表组成。\n其中SQL(Structured Query Language)指操作关系型数据库的编程语言。\n特点（1）关键字不区分大小写；（2）分号; 作为语句结束标志\n笔记主要参考资料：【黑马程序员 MySQL数据库入门到精通，从mysql安装到mysql高级、mysql优化全囊括】的基础入门部分 https://www.bilibili.com/video/BV1Kr4y1i7ru?share_source=copy_web\u0026vd_source=6edf13733e01570d1376e8b5e1ccbd6e\n一、安装与用户管理 1、在centos7 linux系统中安装mysql [上述教学视频中为window安装]，需要ROOT权限。\nhttps://www.hostinger.in/tutorials/how-to-install-mysql-on-centos-7\n在安装过程中遇到的注意事项\n如果之前已经安装，需要卸载干净之前的记录，参考https://learnku.com/articles/35042 其中遇到公钥尚未安装的问题解决报错，参考Centos7 yum安装的时候遇到公钥尚未安装的问题解决_张志翔 ̮的博客-CSDN博客解决 初次修改密码需要包含数字、字符、大小写，且长度大于8；可在之后修改密码强度要求等级。https://stackoverflow.com/questions/43094726/your-password-does-not-satisfy-the-current-policy-requirements 1 2 3 4 5 6 7 # 以root身份进入mysql系统，根据提示输入密码 mysql -h localhost -u root -p quit -- systemctl status mysqld -- systemctl start mysqld -- systemctl stop mysqld 2、创建新用户\n1 2 3 4 5 6 7 8 9 10 11 12 ## 查看所有用户 select Host, User from mysql.user; ## 创建用户并设置密码 create user 'test'@'localhost' identified by '123456'; alter user 'test'@'localhost' identified with mysql_native_password by '654321'; drop user 'test'@'localhost'; ## 用户权限管理 SHOW GRANTS FOR 'test'@'localhost' ; grant all on *.* to 'test'@'localhost'; # *.*表示匹配任意数据库的任一表 revoke all on *.* to 'test'@'localhost'; # *.*表示匹配任意数据库的任一表 二、数据查询与操作 1、database基础操作 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 # (1)查询所有数据库 show databases; # (2)进入/切换至某一数据库 use sys; # (3)查看当前所处于的数据库 select database(); # (4)创建数据库 create database firstdb; create database if not exists firstdb; # (5)删除数据库 drop database firstdb; 2、table表基础操作 1 2 3 4 5 6 7 8 9 10 11 # (1)查询当前库的所有表 show tables; # (2)查看指定表的每一列数据概况 desc host_summary; # (3)修改表名 alter table new_table rename to first_table; # (4)删除表 drop table first_table; 3、创建表以及列修改 创建一张表的关键是交代每一列(字段)的名字、数据类型等。其中常见的数据类型包括 整型：int\n小数：float，float(4, 1)\n定长字符串：char, char(3)\n变长字符串：varchar, varchar(10)\n日期：date – 年月日\nnull为特使的数据类型，表示空值\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 # (1) 如下创建一个名为first_table的表，对应的comment表示列备注、表备注 create table first_table( id int comment '编号', name varchar(50) comment '姓名', age int comment '年龄', gender varchar(1) comment '性别' ) comment '用户表'; desc first_table; # (2) 修改列名及数据类型 alter table first_table change name fakename char(3); # (3) 仅修改列的数据类型 alter table first_table modify fakename char(5); # (4) 删除列 alter table first_table drop fakename; # (5) 增加列 alter table first_table add nickname varchar(10) comment '昵称'; 4、行内容(表数据)修改 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 # (1) 增加1/多行数据 insert into first_table(id,name,age,gender) values (1, \"张三\", 18, \"男\"); insert into first_table values (2, \"李四\", 19, \"男\"), (3, \"王二\", 20, \"女\"); select * from first_table; # (2) 修改特定数据 update first_table set age=88 where name=\"张三\"; update first_table set gender=\"男\"; # (3) 删除行数据 delete from first_table where age\u003e80; delete from first_table # (4) 删除某一个值，可使用update更新为 null 5、创建示例数据 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 ### 员工表 create table emp( id int comment '编号', workno varchar(10) comment '工号', salary int comment '工资', name varchar(10) comment '姓名', gender char(1) comment '性别', age tinyint unsigned comment '年龄', idcard char(18) comment '身份证号', workaddress varchar(50) comment '工作地址', entrydate date comment '入职时间', dept_id int comment '部门' )comment '员工表'; INSERT INTO emp values (1, '00001', 5000, '柳清尘', '女', 20, '123456789012345678', '北京', '2000-01-01',1), (2, '00002', 8000, '张无忌', '男', 18, '123456789012345670', '江苏', '2005-09-01',1), (3, '00003', 12000, '韦一笑', '男', 68, '123456789712345670', '上海', '2005-08-01',2), (4, '00004', 9000, '赵敏', '女', 18, '123456757123845670', '北京', '2009-12-01',2), (5, '00005', 8800, '小昭', '女', 16, '123456769012345678', '上海', '2007-07-01',2), (6, '00006', 5000, '杨逍', '男', 28, '12345678931234567X', '西安', '2006-01-01',3), (7, '00007', 6500, '范瑶', '男', 40, '123456789212345670', '北京', '2005-05-01',3), (8, '00008', 10000, '黛绮丝', '女', 38, null, '天津', '2015-05-01',3); ### 部门表 create table dept( id int comment 'ID', name varchar(10) comment '部门名称' )comment '部门表'; INSERT INTO dept VALUES (1, '研发部'), (2, '市场部'), (3, '财务部'), (4, '销售部'), (5, '总经办'); 6、数据常用查询 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 # (1) 基础查询 select * from emp; #全部数据 select name ,gender from emp; #特定列 select name 姓名, gender 性别 from emp; #起别名 # (2) 去重查询 select distinct gender from emp; select distinct gender, workaddress from emp; # (3) 条件查询 ## \u003e \u003c = \u003e= \u003c= != ## between .. and .. , in, is null, like _匹配单个字符 %匹配任意字符 ## and or not select * from emp where age \u003e 30; select * from emp where idcard is null; select * from emp where gender = \"女\" and age \u003c 30; select * from emp where workaddress in (\"北京\",\"天津\"); select * from emp where name like '小_'; # (4) 联合查询 select * from emp where salary \u003c 8000 union select * from emp where age \u003e 50; # (5) 排序查询： asc(默认)、desc select * from emp order by age; select * from emp order by age, entrydate desc; # (6) 分页查询/指定范围查询：从a开始，查询b条数据(第一条数据序号为0) select * from emp limit 0,5; select * from emp limit 3,3; select * from emp limit 1 \\G 7、统计与分组统计 常用统计函数\ncount() 行数\navg(), max(), min(), sum()\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 # (1) 基础统计 select count(*) from emp; select count(*) count from emp; select avg(age) from emp; # (2) 分组统计 select gender, count(*) count from emp group by gender; select workaddress, avg(age) mean_age from emp group by workaddress; # (3) 先筛选再统计 select workaddress, avg(age) mean_age from emp where gender = \"男\" group by workaddress; # (4) 先统计再筛选 select workaddress, avg(age) mean_age from emp group by workaddress having mean_age \u003e 30; ## 书写顺序：select -- from -- where -- group by -- having ## 执行顺序：from → where → group by → having → select ## select关键字为最后一项执行 8、常用函数与语句 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 # (1) 字符串函数 /* concat() lower(), upper() lpad(), rpad() trim(), substring() */ select lpad(workno, 10, '0') from emp; select concat(name, \",\", gender) from emp; select substring(idcard, 7, 8) birthday from emp; # (2) 数值函数 /* ceiling(), floor() mod() 余数 rand() 返回0-1随机数 round() */ select round(age/10)*10 from emp; # (3) 日期函数 /* curdate 当前日期 curtime 当前时间 now 当前日期+时间 */ select curdate(); select now(); select year(now()); # (4) 逻辑语句 select name, if (workaddress in (\"北京\",\"上海\"), \"一线\", \"二线\") adress_type from emp; select name, case when age \u003e 40 then \"中年\" when age \u003e 30 then \"中青年\" else \"青年\" end age_type from emp; 9、连接两张表 1 2 3 4 5 6 7 8 9 # (1) 内连接 select * from emp, dept where emp.dept_id = dept.id; select e.name, d.name from emp e inner join dept d on e.dept_id = d.id; # (2) 左连接 select e.name, d.name from emp e left join dept d on e.dept_id = d.id; # (3) 右连接 select e.name, d.name from emp e right join dept d on e.dept_id = d.id; 10、嵌套查询 条件语句中的阈值/候选值由嵌套的另一个select语句间接确定 1 2 3 4 5 6 7 8 9 10 11 # (1) 嵌套select返回单个值 select * from emp where dept_id = (select id from dept where name = '研发部'); select * from emp where entrydate \u003e (select entrydate from emp where name = '韦一笑'); # (2) 嵌套select返回单列值 ## in, not in, any, all select * from emp where dept_id in (select id from dept where name in ('研发部','市场部')); ## 多重嵌套 select * from emp where salary \u003e all (select salary from emp where dept_id = (select id from dept where name = '研发部')); 11、主键与外键 主键(primary key)：具有表的唯一标识符的一列数据，一张表只能有一个主键。\n外键(foreign key): 其中的一列数据含义与另一张表的主键相同时，可视为外键。\n定义两张表的外键关系时，外键所在表称为子表，另一张表称为父表。\n如上示例数据中，员工表(子表)的dept_id列与部门表(父表)的id列含义相同，可建立外键关系。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 # 可以在创建表时声明主键与外键，也可以在之后再修改(如下演示) #(1)设置主键 alter table emp add primary key(id); alter table dept add primary key(id); #(2)删除主键 alter table emp drop primary key; #(3)设置外键 alter table emp add constraint fk_emp_dept_id #外键名 foreign key (dept_id) #外键列 references dept(id); #对应哪个表的那个主键 #(4)删除外键 alter table emp drop foreign key fk_emp_dept_id; #建立外键关系后，默认不允许随意删除delete/修改update父表(dept)的主键数据 -- no action/ restrict #cascade：父表数据删除，子表对应数据也随之删除 #set null：父表数据删除，子表对应数据改为null alter table emp add constraint fk_emp_dept_id foreign key (dept_id) references dept(id) on update cascade on delete cascade; 三、数据导出与导入 1、数据导出 导出表为txt或者csv文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 # 查看导出的默认路径 show variables like '%secure%'; -- +--------------------------+-----------------------+ -- | Variable_name | Value | -- +--------------------------+-----------------------+ -- | require_secure_transport | OFF | -- | secure_file_priv | /var/lib/mysql-files/ | -- +--------------------------+-----------------------+ # 导出为txt文件 select * from dept into outfile '/var/lib/mysql-files/tmp.txt'; # 导出为csv文件 select * from dept into outfile '/var/lib/mysql-files/tmp.csv' FIELDS TERMINATED BY ',' ENCLOSED BY '\"' LINES TERMINATED BY '\\r\\n'; ## 关于导出csv文件用excel打开中文乱码 https://blog.csdn.net/u010735147/article/details/83827857 导处数据库/表为.sql文件(需要退出mysql，在shell界面完成) 1 2 3 4 5 # 导出整个数据库 mysqldump -u root -p firstdb \u003e /path/to/dir/firstdb.sql # 导出某数据库的某个表 mysqldump -u root -p firstdb emp \u003e /path/to/dir/firstdb.sql 2、数据导入 导入本地表文件至数据库的某个表里，注意导入时列顺序需要相同。 由于无法直接从默认目录读取ERROR 13 (HY000): File '/var/lib/mysql-files/tmp.txt' not found (OS errno 13 - 权限不够)。可以将待读取文件放到mysql所支持的/tmp/临时文件夹\n1 cp /var/lib/mysql-files/tmp.txt /tmp/ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 show variables like '%tmpdir%'; SET GLOBAL local_infile=1; # quit # mysql --local-infile=1 -u root -p create table new_table( id int comment 'ID', name varchar(10) comment '部门名称' )comment '部门表'; ## 导入txt文件 load data local infile '/tmp/tmp.txt' into table new_table LINES TERMINATED BY '\\r\\n'; ## 导入csv文件 load data local infile '/tmp/tmp.csv' into table new_table FIELDS TERMINATED BY ',' ENCLOSED BY '\"' LINES TERMINATED BY '\\r\\n'; 导入本地sql至数据库中 1 2 # 在mysql创建一个新数据库 create database seconddb; 1 2 # 在shell端将sql文件导入至该数据库 mysql -u root -p seconddb \u003c /path/to/dir/firstdb.sql 补 1、修改sql数据库位置：https://www.tecmint.com/change-default-mysql-mariadb-data-directory-in-linux/\n1 2 3 4 5 6 mysql -u root -p -e \"SELECT @@datadir;\" -- +-----------------------+ -- | @@datadir | -- +-----------------------+ -- | /var/lib/mysql/ | -- +-----------------------+ 四、Chembl数据库实战 关于Chembl数据库：https://www.ebi.ac.uk/chembl/\nChembl数据库SQL下载：https://ftp.ebi.ac.uk/pub/databases/chembl/ChEMBLdb/latest/\n文件大小—压缩包1.6G；解压缩后—15G；读入至SQL—33G\n首先读入至mysql中 1 2 3 4 5 6 7 8 # 在mysql中创建一个名为chembl_31的数据库 create database chembl_31 DEFAULT CHARACTER SET utf8 DEFAULT COLLATE utf8_general_ci; # mysql -u root -p chembl_31 \u003c chembl_31_mysql.dmp # 大概需要2~3个小时 use chembl_31; show tables; （1）实验对应的靶点信息 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 select * from activities limit 1 \\G select * from target_components limit 1 \\G select * from component_sequences limit 1 \\G #导入uniprot基因注释 create table uniprot2gene( uniprot varchar(30) , gene varchar(50) ); load data local infile '/tmp/chembl_uniprot2gene.csv' into table uniprot2gene FIELDS TERMINATED BY ',' LINES TERMINATED BY '\\r\\n' ; select * from uniprot2gene limit 10; select * from uniprot2gene limit 1 \\G create table tmp_target_info select a.assay_id assay_id, a.tid tid, b.component_id component_id, c.component_type component_type, c.accession accession, c.organism organism, d.gene gene from assays a left join target_components b on a.tid = b.tid left join component_sequences c on b.component_id = c.component_id left join uniprot2gene d on c.accession = d.uniprot where c.organism = \"Homo sapiens\" and c.component_type = \"PROTEIN\" ; select count(*) from tmp_target_info; #415795 select * from tmp_target_info limit 5; -- +----------+--------+--------------+----------------+-----------+--------------+--------+ -- | assay_id | tid | component_id | component_type | accession | organism | gene | -- +----------+--------+--------------+----------------+-----------+--------------+--------+ -- | 142605 | 104282 | 2 | PROTEIN | P02708 | Homo sapiens | CHRNA1 | -- | 142606 | 104282 | 2 | PROTEIN | P02708 | Homo sapiens | CHRNA1 | -- | 143098 | 104282 | 2 | PROTEIN | P02708 | Homo sapiens | CHRNA1 | -- | 143099 | 104282 | 2 | PROTEIN | P02708 | Homo sapiens | CHRNA1 | -- | 143100 | 104282 | 2 | PROTEIN | P02708 | Homo sapiens | CHRNA1 | -- +----------+--------+--------------+----------------+-----------+--------------+--------+ （2）化合物ID对应靶点的实验结果 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 select * from activities limit 1 \\G; select * from molecule_dictionary limit 1 \\G create table tmp_compound_assay select a.assay_id assay_id, a.molregno molregno, b.chembl_id chembl_id, a.standard_relation standard_relation, a.standard_value standard_value, a.standard_units standard_units, a.standard_flag standard_flag, a.standard_type standard_type, a.pchembl_value a.pchembl_value from activities a left join molecule_dictionary b on a.molregno=b.molregno where a.assay_id in (select assay_id from tmp_target_info) ; select count(*) from tmp_compound_assay; #5951349 select * from tmp_compound_assay limit 5; -- +----------+----------+--------------+-------------------+--------------------------------------+----------------+---------------+---------------+ -- | assay_id | molregno | chembl_id | standard_relation | standard_value | standard_units | standard_flag | standard_type | -- +----------+----------+--------------+-------------------+--------------------------------------+----------------+---------------+---------------+ -- | 4 | 167941 | CHEMBL321330 | \u003e | 10000.000000000000000000000000000000 | nM | 0 | 135 | -- | 18 | 144846 | CHEMBL313630 | = | 300.000000000000000000000000000000 | nM | 1 | AC50 | -- | 18 | 144716 | CHEMBL315582 | = | 200.000000000000000000000000000000 | nM | 1 | AC50 | -- | 18 | 144887 | CHEMBL313613 | = | 500.000000000000000000000000000000 | nM | 1 | AC50 | -- | 18 | 144715 | CHEMBL316389 | = | 200.000000000000000000000000000000 | nM | 1 | AC50 | -- +----------+----------+--------------+-------------------+--------------------------------------+----------------+---------------+---------------+ （3） 查询PubChemID对应的CHEMBL的化合物实验信息 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 # 查询表query_tb包括两列：第一列，pubchem id；第二列，chembl id create table query_tb( CID int , Chembl varchar(20) ); #读入本地csv文件 load data local infile '/tmp/query_chembl.csv' into table query_tb FIELDS TERMINATED BY ',' LINES TERMINATED BY '\\r\\n'; select * from query_tb limit 10; #得到筛选结果query_res_tb create table query_res_tb select cp.chembl_id chembl_id, cp.standard_relation standard_relation, cp.standard_value standard_value, cp.standard_units standard_units, cp.standard_flag standard_flag, cp.standard_type standard_type, cp.pchembl_value pchembl_value, target.gene gene from tmp_compound_assay cp left join tmp_target_info target on cp.assay_id=target.assay_id where cp.chembl_id in (select Chembl from query_tb); show variables like '%secure%'; select * from query_res_tb into outfile '/var/lib/mysql-files/query_chembl_res.txt'; # c(\"chembl_id\",\"relation\",\"value\",\"units\",\"flag\",\"type\",\"pchembl_value\",\"gene\") ",
  "wordCount" : "5355",
  "inLanguage": "en",
  "datePublished": "2022-10-22T00:00:00Z",
  "dateModified": "2022-10-22T00:00:00Z",
  "author":[{
    "@type": "Person",
    "name": "Lishensuo"
  }],
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://lishensuo.github.io/en/posts/program/600mysql%E5%88%9D%E5%AD%A6/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Li's Bioinfo-Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lishensuo.github.io/img/Q.gif"
    }
  }
}
</script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://lishensuo.github.io/en/" accesskey="h" title="Li&#39;s Bioinfo-Blog (Alt + H)">Li&#39;s Bioinfo-Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <ul class="lang-switch"><li>|</li>
                </ul>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://lishensuo.github.io/en/" title="主页">
                    <span>主页</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/posts" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/tags" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/archives/" title="归档">
                    <span>归档</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/about" title="关于">
                    <span>关于</span>
                </a>
            </li>
            <li>
                <a href="https://lishensuo.github.io/en/search" title="搜索 (Alt &#43; /)" accesskey=/>
                    <span>搜索</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://lishensuo.github.io/en/">Home</a>&nbsp;»&nbsp;<a href="https://lishensuo.github.io/en/posts/">分类</a>&nbsp;»&nbsp;<a href="https://lishensuo.github.io/en/posts/program/">📖 R&amp;Python&amp;Shell --- 编程基础、可视化等</a></div>
    <h1 class="post-title">
      MySQL初学
    </h1>
    <div class="post-meta">













Create:&amp;nbsp;&lt;span title=&#39;2022-10-22 00:00:00 &#43;0000 UTC&#39;&gt;2022-10-22&lt;/span&gt;&amp;nbsp;|&amp;nbsp;Update:&amp;nbsp;2022-10-22&amp;nbsp;|&amp;nbsp;Words:&amp;nbsp;5355&amp;nbsp;|&amp;nbsp;11 min&amp;nbsp;|&amp;nbsp;Lishensuo

|  Viewers: <span id="busuanzi_value_page_pv"></span> 
	  
    </div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">Table of Contents</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#%e4%b8%80%e5%ae%89%e8%a3%85%e4%b8%8e%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86" aria-label="一、安装与用户管理">一、安装与用户管理</a></li>
                    <li>
                        <a href="#%e4%ba%8c%e6%95%b0%e6%8d%ae%e6%9f%a5%e8%af%a2%e4%b8%8e%e6%93%8d%e4%bd%9c" aria-label="二、数据查询与操作">二、数据查询与操作</a><ul>
                            <ul>
                            
                    <li>
                        <a href="#1database%e5%9f%ba%e7%a1%80%e6%93%8d%e4%bd%9c" aria-label="1、database基础操作">1、database基础操作</a></li>
                    <li>
                        <a href="#2table%e8%a1%a8%e5%9f%ba%e7%a1%80%e6%93%8d%e4%bd%9c" aria-label="2、table表基础操作">2、table表基础操作</a></li>
                    <li>
                        <a href="#3%e5%88%9b%e5%bb%ba%e8%a1%a8%e4%bb%a5%e5%8f%8a%e5%88%97%e4%bf%ae%e6%94%b9" aria-label="3、创建表以及列修改">3、创建表以及列修改</a></li>
                    <li>
                        <a href="#4%e8%a1%8c%e5%86%85%e5%ae%b9%e8%a1%a8%e6%95%b0%e6%8d%ae%e4%bf%ae%e6%94%b9" aria-label="4、行内容(表数据)修改">4、行内容(表数据)修改</a></li>
                    <li>
                        <a href="#5%e5%88%9b%e5%bb%ba%e7%a4%ba%e4%be%8b%e6%95%b0%e6%8d%ae" aria-label="5、创建示例数据">5、创建示例数据</a></li>
                    <li>
                        <a href="#6%e6%95%b0%e6%8d%ae%e5%b8%b8%e7%94%a8%e6%9f%a5%e8%af%a2" aria-label="6、数据常用查询">6、数据常用查询</a></li>
                    <li>
                        <a href="#7%e7%bb%9f%e8%ae%a1%e4%b8%8e%e5%88%86%e7%bb%84%e7%bb%9f%e8%ae%a1" aria-label="7、统计与分组统计">7、统计与分组统计</a></li>
                    <li>
                        <a href="#8%e5%b8%b8%e7%94%a8%e5%87%bd%e6%95%b0%e4%b8%8e%e8%af%ad%e5%8f%a5" aria-label="8、常用函数与语句">8、常用函数与语句</a></li>
                    <li>
                        <a href="#9%e8%bf%9e%e6%8e%a5%e4%b8%a4%e5%bc%a0%e8%a1%a8" aria-label="9、连接两张表">9、连接两张表</a></li>
                    <li>
                        <a href="#10%e5%b5%8c%e5%a5%97%e6%9f%a5%e8%af%a2" aria-label="10、嵌套查询">10、嵌套查询</a></li>
                    <li>
                        <a href="#11%e4%b8%bb%e9%94%ae%e4%b8%8e%e5%a4%96%e9%94%ae" aria-label="11、主键与外键">11、主键与外键</a></li></ul>
                        </ul>
                    </li>
                    <li>
                        <a href="#%e4%b8%89%e6%95%b0%e6%8d%ae%e5%af%bc%e5%87%ba%e4%b8%8e%e5%af%bc%e5%85%a5" aria-label="三、数据导出与导入">三、数据导出与导入</a><ul>
                            <ul>
                            
                    <li>
                        <a href="#1%e6%95%b0%e6%8d%ae%e5%af%bc%e5%87%ba" aria-label="1、数据导出">1、数据导出</a></li>
                    <li>
                        <a href="#2%e6%95%b0%e6%8d%ae%e5%af%bc%e5%85%a5" aria-label="2、数据导入">2、数据导入</a></li></ul>
                        </ul>
                    </li>
                    <li>
                        <a href="#%e8%a1%a5" aria-label="补">补</a></li>
                    <li>
                        <a href="#%e5%9b%9bchembl%e6%95%b0%e6%8d%ae%e5%ba%93%e5%ae%9e%e6%88%98" aria-label="四、Chembl数据库实战">四、Chembl数据库实战</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>


  <div class="post-content"><blockquote>
<p>MySQL是一个常用的数据库管理系统，关于数据库可以简单理解多个有关联的二维表组成。</p>
<p>其中SQL(Structured Query Language)指操作关系型数据库的编程语言。</p>
<p>特点（1）关键字不区分大小写；（2）分号; 作为语句结束标志</p>
<p>笔记主要参考资料：【黑马程序员 MySQL数据库入门到精通，从mysql安装到mysql高级、mysql优化全囊括】的基础入门部分  <a href="https://www.bilibili.com/video/BV1Kr4y1i7ru?share_source=copy_web&amp;vd_source=6edf13733e01570d1376e8b5e1ccbd6e">https://www.bilibili.com/video/BV1Kr4y1i7ru?share_source=copy_web&vd_source=6edf13733e01570d1376e8b5e1ccbd6e</a></p>
<img src="https://upload.wikimedia.org/wikipedia/zh/thumb/6/62/MySQL.svg/1200px-MySQL.svg.png" alt="MySQL - 维基百科，自由的百科全书" style="zoom:33%;" /></blockquote>
<h1 id="一安装与用户管理">一、安装与用户管理<a hidden class="anchor" aria-hidden="true" href="#一安装与用户管理">#</a></h1>
<p>1、在centos7 linux系统中安装mysql [上述教学视频中为window安装]，需要ROOT权限。</p>
<p><a href="https://www.hostinger.in/tutorials/how-to-install-mysql-on-centos-7">https://www.hostinger.in/tutorials/how-to-install-mysql-on-centos-7</a></p>
<p>在安装过程中遇到的注意事项</p>
<ul>
<li>如果之前已经安装，需要卸载干净之前的记录，参考https://learnku.com/articles/35042</li>
<li>其中遇到<code>公钥尚未安装的问题解决</code>报错，参考<a href="https://vegetable-chicken.blog.csdn.net/article/details/104106810?spm=1001.2101.3001.6661.1&amp;utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-104106810-blog-124114996.pc_relevant_layerdownloadsortv1&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~Rate-1-104106810-blog-124114996.pc_relevant_layerdownloadsortv1&amp;utm_relevant_index=1">Centos7 yum安装的时候遇到公钥尚未安装的问题解决_张志翔 ̮的博客-CSDN博客</a>解决</li>
<li>初次修改密码需要包含数字、字符、大小写，且长度大于8；可在之后修改密码强度要求等级。https://stackoverflow.com/questions/43094726/your-password-does-not-satisfy-the-current-policy-requirements</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># 以root身份进入mysql系统，根据提示输入密码
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>mysql -h localhost -u root -p
</span></span><span style="display:flex;"><span>quit
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">-- systemctl status mysqld
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- systemctl start mysqld
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- systemctl stop mysqld
</span></span></span></code></pre></td></tr></table>
</div>
</div><p>2、创建新用户</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f">## 查看所有用户
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> Host, <span style="color:#fff;font-weight:bold">User</span> <span style="color:#fff;font-weight:bold">from</span> mysql.<span style="color:#fff;font-weight:bold">user</span>; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">## 创建用户并设置密码
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">user</span> <span style="color:#0ff;font-weight:bold">&#39;test&#39;</span>@<span style="color:#0ff;font-weight:bold">&#39;localhost&#39;</span> <span style="color:#fff;font-weight:bold">identified</span> <span style="color:#fff;font-weight:bold">by</span> <span style="color:#0ff;font-weight:bold">&#39;123456&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">user</span> <span style="color:#0ff;font-weight:bold">&#39;test&#39;</span>@<span style="color:#0ff;font-weight:bold">&#39;localhost&#39;</span> <span style="color:#fff;font-weight:bold">identified</span> <span style="color:#fff;font-weight:bold">with</span> mysql_native_password <span style="color:#fff;font-weight:bold">by</span> <span style="color:#0ff;font-weight:bold">&#39;654321&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">drop</span> <span style="color:#fff;font-weight:bold">user</span> <span style="color:#0ff;font-weight:bold">&#39;test&#39;</span>@<span style="color:#0ff;font-weight:bold">&#39;localhost&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">## 用户权限管理
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">SHOW</span> GRANTS <span style="color:#fff;font-weight:bold">FOR</span> <span style="color:#0ff;font-weight:bold">&#39;test&#39;</span>@<span style="color:#0ff;font-weight:bold">&#39;localhost&#39;</span> ; 
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">grant</span> <span style="color:#fff;font-weight:bold">all</span> <span style="color:#fff;font-weight:bold">on</span> *.* <span style="color:#fff;font-weight:bold">to</span> <span style="color:#0ff;font-weight:bold">&#39;test&#39;</span>@<span style="color:#0ff;font-weight:bold">&#39;localhost&#39;</span>;     <span style="color:#007f7f"># *.*表示匹配任意数据库的任一表
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">revoke</span> <span style="color:#fff;font-weight:bold">all</span> <span style="color:#fff;font-weight:bold">on</span> *.* <span style="color:#fff;font-weight:bold">to</span> <span style="color:#0ff;font-weight:bold">&#39;test&#39;</span>@<span style="color:#0ff;font-weight:bold">&#39;localhost&#39;</span>;     <span style="color:#007f7f"># *.*表示匹配任意数据库的任一表
</span></span></span></code></pre></td></tr></table>
</div>
</div><blockquote>
<img src="https://raw.githubusercontent.com/lishensuo/images/main/image-20221022120230351.png" alt="image-20221022120230351" style="zoom:50%;" /></blockquote>
<h1 id="二数据查询与操作">二、数据查询与操作<a hidden class="anchor" aria-hidden="true" href="#二数据查询与操作">#</a></h1>
<h3 id="1database基础操作">1、database基础操作<a hidden class="anchor" aria-hidden="true" href="#1database基础操作">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># (1)查询所有数据库
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">show</span> <span style="color:#fff;font-weight:bold">databases</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (2)进入/切换至某一数据库
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">use</span> sys;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (3)查看当前所处于的数据库
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> <span style="color:#fff;font-weight:bold">database</span>();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (4)创建数据库
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">database</span> firstdb;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">database</span> <span style="color:#fff;font-weight:bold">if</span> <span style="color:#fff;font-weight:bold">not</span> <span style="color:#fff;font-weight:bold">exists</span> firstdb;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (5)删除数据库
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">drop</span> <span style="color:#fff;font-weight:bold">database</span> firstdb;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2table表基础操作">2、table表基础操作<a hidden class="anchor" aria-hidden="true" href="#2table表基础操作">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># (1)查询当前库的所有表
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">show</span> <span style="color:#fff;font-weight:bold">tables</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (2)查看指定表的每一列数据概况
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">desc</span> host_summary;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (3)修改表名
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">table</span> new_table <span style="color:#fff;font-weight:bold">rename</span> <span style="color:#fff;font-weight:bold">to</span> first_table;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (4)删除表
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">drop</span> <span style="color:#fff;font-weight:bold">table</span> first_table;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="3创建表以及列修改">3、创建表以及列修改<a hidden class="anchor" aria-hidden="true" href="#3创建表以及列修改">#</a></h3>
<ul>
<li>创建一张表的关键是交代每一列(字段)的名字、数据类型等。其中常见的数据类型包括</li>
</ul>
<blockquote>
<p>整型：int</p>
<p>小数：float，float(4, 1)</p>
<p>定长字符串：char, char(3)</p>
<p>变长字符串：varchar, varchar(10)</p>
<p>日期：date &ndash; 年月日</p>
<p><code>null</code>为特使的数据类型，表示空值</p></blockquote>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># (1) 如下创建一个名为first_table的表，对应的comment表示列备注、表备注
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">table</span> first_table(
</span></span><span style="display:flex;"><span>	id <span style="color:#fff;font-weight:bold">int</span> comment <span style="color:#0ff;font-weight:bold">&#39;编号&#39;</span>,
</span></span><span style="display:flex;"><span>	name <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">50</span>) comment <span style="color:#0ff;font-weight:bold">&#39;姓名&#39;</span>,
</span></span><span style="display:flex;"><span>	age <span style="color:#fff;font-weight:bold">int</span> comment <span style="color:#0ff;font-weight:bold">&#39;年龄&#39;</span>,
</span></span><span style="display:flex;"><span>	gender <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">1</span>) comment <span style="color:#0ff;font-weight:bold">&#39;性别&#39;</span>
</span></span><span style="display:flex;"><span>) comment <span style="color:#0ff;font-weight:bold">&#39;用户表&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">desc</span> first_table;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (2) 修改列名及数据类型
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">table</span> first_table <span style="color:#fff;font-weight:bold">change</span> name fakename <span style="color:#fff;font-weight:bold">char</span>(<span style="color:#ff0;font-weight:bold">3</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (3) 仅修改列的数据类型
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">table</span> first_table modify fakename <span style="color:#fff;font-weight:bold">char</span>(<span style="color:#ff0;font-weight:bold">5</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (4) 删除列
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">table</span> first_table <span style="color:#fff;font-weight:bold">drop</span> fakename;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (5) 增加列
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">table</span> first_table <span style="color:#fff;font-weight:bold">add</span> nickname <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">10</span>) comment <span style="color:#0ff;font-weight:bold">&#39;昵称&#39;</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="4行内容表数据修改">4、行内容(表数据)修改<a hidden class="anchor" aria-hidden="true" href="#4行内容表数据修改">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># (1) 增加1/多行数据
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">insert</span> <span style="color:#fff;font-weight:bold">into</span> first_table(id,name,age,gender) <span style="color:#fff;font-weight:bold">values</span> (<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#0ff;font-weight:bold">&#34;张三&#34;</span>, <span style="color:#ff0;font-weight:bold">18</span>, <span style="color:#0ff;font-weight:bold">&#34;男&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">insert</span> <span style="color:#fff;font-weight:bold">into</span> first_table <span style="color:#fff;font-weight:bold">values</span> 
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#0ff;font-weight:bold">&#34;李四&#34;</span>, <span style="color:#ff0;font-weight:bold">19</span>, <span style="color:#0ff;font-weight:bold">&#34;男&#34;</span>),
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#0ff;font-weight:bold">&#34;王二&#34;</span>, <span style="color:#ff0;font-weight:bold">20</span>, <span style="color:#0ff;font-weight:bold">&#34;女&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> first_table;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (2) 修改特定数据
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">update</span> first_table <span style="color:#fff;font-weight:bold">set</span> age=<span style="color:#ff0;font-weight:bold">88</span> <span style="color:#fff;font-weight:bold">where</span> name=<span style="color:#0ff;font-weight:bold">&#34;张三&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">update</span> first_table <span style="color:#fff;font-weight:bold">set</span> gender=<span style="color:#0ff;font-weight:bold">&#34;男&#34;</span>; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (3) 删除行数据
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">delete</span> <span style="color:#fff;font-weight:bold">from</span> first_table <span style="color:#fff;font-weight:bold">where</span> age&gt;<span style="color:#ff0;font-weight:bold">80</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">delete</span> <span style="color:#fff;font-weight:bold">from</span> first_table
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (4) 删除某一个值，可使用update更新为 null
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="5创建示例数据">5、创建示例数据<a hidden class="anchor" aria-hidden="true" href="#5创建示例数据">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f">### 员工表
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">table</span> emp(
</span></span><span style="display:flex;"><span>	id <span style="color:#fff;font-weight:bold">int</span> comment <span style="color:#0ff;font-weight:bold">&#39;编号&#39;</span>,
</span></span><span style="display:flex;"><span>	workno <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">10</span>) comment <span style="color:#0ff;font-weight:bold">&#39;工号&#39;</span>,
</span></span><span style="display:flex;"><span>	salary <span style="color:#fff;font-weight:bold">int</span> comment <span style="color:#0ff;font-weight:bold">&#39;工资&#39;</span>,
</span></span><span style="display:flex;"><span>	name <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">10</span>) comment <span style="color:#0ff;font-weight:bold">&#39;姓名&#39;</span>,
</span></span><span style="display:flex;"><span>	gender <span style="color:#fff;font-weight:bold">char</span>(<span style="color:#ff0;font-weight:bold">1</span>) comment <span style="color:#0ff;font-weight:bold">&#39;性别&#39;</span>,
</span></span><span style="display:flex;"><span>	age <span style="color:#fff;font-weight:bold">tinyint</span> <span style="color:#fff;font-weight:bold">unsigned</span> comment <span style="color:#0ff;font-weight:bold">&#39;年龄&#39;</span>,
</span></span><span style="display:flex;"><span>	idcard <span style="color:#fff;font-weight:bold">char</span>(<span style="color:#ff0;font-weight:bold">18</span>) comment <span style="color:#0ff;font-weight:bold">&#39;身份证号&#39;</span>,
</span></span><span style="display:flex;"><span>	workaddress <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">50</span>) comment <span style="color:#0ff;font-weight:bold">&#39;工作地址&#39;</span>,
</span></span><span style="display:flex;"><span>	entrydate <span style="color:#fff;font-weight:bold">date</span> comment <span style="color:#0ff;font-weight:bold">&#39;入职时间&#39;</span>,
</span></span><span style="display:flex;"><span>	dept_id <span style="color:#fff;font-weight:bold">int</span> comment <span style="color:#0ff;font-weight:bold">&#39;部门&#39;</span>
</span></span><span style="display:flex;"><span>	)comment <span style="color:#0ff;font-weight:bold">&#39;员工表&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">INSERT</span> <span style="color:#fff;font-weight:bold">INTO</span> emp <span style="color:#fff;font-weight:bold">values</span>
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#0ff;font-weight:bold">&#39;00001&#39;</span>, <span style="color:#ff0;font-weight:bold">5000</span>, <span style="color:#0ff;font-weight:bold">&#39;柳清尘&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;女&#39;</span>, <span style="color:#ff0;font-weight:bold">20</span>, <span style="color:#0ff;font-weight:bold">&#39;123456789012345678&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;北京&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;2000-01-01&#39;</span>,<span style="color:#ff0;font-weight:bold">1</span>),
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#0ff;font-weight:bold">&#39;00002&#39;</span>, <span style="color:#ff0;font-weight:bold">8000</span>, <span style="color:#0ff;font-weight:bold">&#39;张无忌&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;男&#39;</span>, <span style="color:#ff0;font-weight:bold">18</span>, <span style="color:#0ff;font-weight:bold">&#39;123456789012345670&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;江苏&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;2005-09-01&#39;</span>,<span style="color:#ff0;font-weight:bold">1</span>),
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#0ff;font-weight:bold">&#39;00003&#39;</span>, <span style="color:#ff0;font-weight:bold">12000</span>, <span style="color:#0ff;font-weight:bold">&#39;韦一笑&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;男&#39;</span>, <span style="color:#ff0;font-weight:bold">68</span>, <span style="color:#0ff;font-weight:bold">&#39;123456789712345670&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;上海&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;2005-08-01&#39;</span>,<span style="color:#ff0;font-weight:bold">2</span>),
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#0ff;font-weight:bold">&#39;00004&#39;</span>, <span style="color:#ff0;font-weight:bold">9000</span>, <span style="color:#0ff;font-weight:bold">&#39;赵敏&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;女&#39;</span>, <span style="color:#ff0;font-weight:bold">18</span>, <span style="color:#0ff;font-weight:bold">&#39;123456757123845670&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;北京&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;2009-12-01&#39;</span>,<span style="color:#ff0;font-weight:bold">2</span>),
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#0ff;font-weight:bold">&#39;00005&#39;</span>, <span style="color:#ff0;font-weight:bold">8800</span>, <span style="color:#0ff;font-weight:bold">&#39;小昭&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;女&#39;</span>, <span style="color:#ff0;font-weight:bold">16</span>, <span style="color:#0ff;font-weight:bold">&#39;123456769012345678&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;上海&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;2007-07-01&#39;</span>,<span style="color:#ff0;font-weight:bold">2</span>),
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">6</span>, <span style="color:#0ff;font-weight:bold">&#39;00006&#39;</span>, <span style="color:#ff0;font-weight:bold">5000</span>, <span style="color:#0ff;font-weight:bold">&#39;杨逍&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;男&#39;</span>, <span style="color:#ff0;font-weight:bold">28</span>, <span style="color:#0ff;font-weight:bold">&#39;12345678931234567X&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;西安&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;2006-01-01&#39;</span>,<span style="color:#ff0;font-weight:bold">3</span>),
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#0ff;font-weight:bold">&#39;00007&#39;</span>, <span style="color:#ff0;font-weight:bold">6500</span>, <span style="color:#0ff;font-weight:bold">&#39;范瑶&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;男&#39;</span>, <span style="color:#ff0;font-weight:bold">40</span>, <span style="color:#0ff;font-weight:bold">&#39;123456789212345670&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;北京&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;2005-05-01&#39;</span>,<span style="color:#ff0;font-weight:bold">3</span>),
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">8</span>, <span style="color:#0ff;font-weight:bold">&#39;00008&#39;</span>, <span style="color:#ff0;font-weight:bold">10000</span>, <span style="color:#0ff;font-weight:bold">&#39;黛绮丝&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;女&#39;</span>, <span style="color:#ff0;font-weight:bold">38</span>, null, <span style="color:#0ff;font-weight:bold">&#39;天津&#39;</span>, <span style="color:#0ff;font-weight:bold">&#39;2015-05-01&#39;</span>,<span style="color:#ff0;font-weight:bold">3</span>);
</span></span><span style="display:flex;"><span><span style="color:#007f7f">### 部门表
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">table</span> dept(
</span></span><span style="display:flex;"><span>	id <span style="color:#fff;font-weight:bold">int</span> comment <span style="color:#0ff;font-weight:bold">&#39;ID&#39;</span>,
</span></span><span style="display:flex;"><span>	name <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">10</span>) comment <span style="color:#0ff;font-weight:bold">&#39;部门名称&#39;</span>
</span></span><span style="display:flex;"><span>	)comment <span style="color:#0ff;font-weight:bold">&#39;部门表&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">INSERT</span> <span style="color:#fff;font-weight:bold">INTO</span> dept  <span style="color:#fff;font-weight:bold">VALUES</span> 
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">1</span>, <span style="color:#0ff;font-weight:bold">&#39;研发部&#39;</span>), 
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">2</span>, <span style="color:#0ff;font-weight:bold">&#39;市场部&#39;</span>),
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">3</span>, <span style="color:#0ff;font-weight:bold">&#39;财务部&#39;</span>), 
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">4</span>, <span style="color:#0ff;font-weight:bold">&#39;销售部&#39;</span>), 
</span></span><span style="display:flex;"><span>	(<span style="color:#ff0;font-weight:bold">5</span>, <span style="color:#0ff;font-weight:bold">&#39;总经办&#39;</span>);
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="6数据常用查询">6、数据常用查询<a hidden class="anchor" aria-hidden="true" href="#6数据常用查询">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># (1) 基础查询
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp;                      <span style="color:#007f7f">#全部数据
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> name ,gender <span style="color:#fff;font-weight:bold">from</span> emp;           <span style="color:#007f7f">#特定列
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> name <span style="color:#f00">姓名</span>, gender <span style="color:#f00">性别</span> <span style="color:#fff;font-weight:bold">from</span> emp;  <span style="color:#007f7f">#起别名
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (2) 去重查询
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> <span style="color:#fff;font-weight:bold">distinct</span> gender <span style="color:#fff;font-weight:bold">from</span> emp;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> <span style="color:#fff;font-weight:bold">distinct</span> gender, workaddress <span style="color:#fff;font-weight:bold">from</span> emp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (3) 条件查询
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">## &gt; &lt; = &gt;= &lt;= !=
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">## between .. and .. , in, is null, like _匹配单个字符 %匹配任意字符
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">## and or not
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> age &gt; <span style="color:#ff0;font-weight:bold">30</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> idcard <span style="color:#fff;font-weight:bold">is</span> null;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> gender =  <span style="color:#0ff;font-weight:bold">&#34;女&#34;</span> <span style="color:#fff;font-weight:bold">and</span> age &lt; <span style="color:#ff0;font-weight:bold">30</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> workaddress <span style="color:#fff;font-weight:bold">in</span> (<span style="color:#0ff;font-weight:bold">&#34;北京&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;天津&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> name <span style="color:#fff;font-weight:bold">like</span> <span style="color:#0ff;font-weight:bold">&#39;小_&#39;</span>; 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (4) 联合查询
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> salary &lt; <span style="color:#ff0;font-weight:bold">8000</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">union</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> age &gt; <span style="color:#ff0;font-weight:bold">50</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (5) 排序查询： asc(默认)、desc
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">order</span> <span style="color:#fff;font-weight:bold">by</span> age;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">order</span> <span style="color:#fff;font-weight:bold">by</span> age, entrydate <span style="color:#fff;font-weight:bold">desc</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (6) 分页查询/指定范围查询：从a开始，查询b条数据(第一条数据序号为0)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">0</span>,<span style="color:#ff0;font-weight:bold">5</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">3</span>,<span style="color:#ff0;font-weight:bold">3</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">1</span> <span style="color:#f00">\</span>G
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="7统计与分组统计">7、统计与分组统计<a hidden class="anchor" aria-hidden="true" href="#7统计与分组统计">#</a></h3>
<blockquote>
<p>常用统计函数</p>
<p>count()  行数</p>
<p>avg(), max(), min(), sum()</p></blockquote>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># (1) 基础统计
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> count(*) <span style="color:#fff;font-weight:bold">from</span> emp;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> count(*) count <span style="color:#fff;font-weight:bold">from</span> emp;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> avg(age) <span style="color:#fff;font-weight:bold">from</span> emp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (2) 分组统计
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> gender, count(*) count <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">group</span> <span style="color:#fff;font-weight:bold">by</span> gender;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> workaddress, avg(age) mean_age <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">group</span> <span style="color:#fff;font-weight:bold">by</span> workaddress;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (3) 先筛选再统计
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> workaddress, avg(age) mean_age
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> emp
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">where</span> gender = <span style="color:#0ff;font-weight:bold">&#34;男&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">group</span> <span style="color:#fff;font-weight:bold">by</span> workaddress;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (4) 先统计再筛选
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> workaddress, avg(age) mean_age
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> emp
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">group</span> <span style="color:#fff;font-weight:bold">by</span> workaddress
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">having</span> mean_age &gt; <span style="color:#ff0;font-weight:bold">30</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">## 书写顺序：select -- from -- where -- group by -- having
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">## 执行顺序：from → where → group by → having → select
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">## select关键字为最后一项执行
</span></span></span></code></pre></td></tr></table>
</div>
</div><h3 id="8常用函数与语句">8、常用函数与语句<a hidden class="anchor" aria-hidden="true" href="#8常用函数与语句">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># (1) 字符串函数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#007f7f">/*
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">concat()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">lower(), upper()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">lpad(), rpad()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">trim(),
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">substring()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> lpad(workno, <span style="color:#ff0;font-weight:bold">10</span>, <span style="color:#0ff;font-weight:bold">&#39;0&#39;</span>) <span style="color:#fff;font-weight:bold">from</span> emp;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> concat(name, <span style="color:#0ff;font-weight:bold">&#34;,&#34;</span>, gender) <span style="color:#fff;font-weight:bold">from</span> emp;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> substring(idcard, <span style="color:#ff0;font-weight:bold">7</span>, <span style="color:#ff0;font-weight:bold">8</span>) birthday <span style="color:#fff;font-weight:bold">from</span> emp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (2) 数值函数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#007f7f">/*
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">ceiling(), floor()
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">mod()  余数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">rand() 返回0-1随机数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">round() 
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> round(age/<span style="color:#ff0;font-weight:bold">10</span>)*<span style="color:#ff0;font-weight:bold">10</span> <span style="color:#fff;font-weight:bold">from</span> emp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (3) 日期函数
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#007f7f">/*
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">curdate  当前日期
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">curtime  当前时间
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">now      当前日期+时间
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> curdate();
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> now();
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> <span style="color:#fff;font-weight:bold">year</span>(now());
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (4) 逻辑语句
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> name, <span style="color:#fff;font-weight:bold">if</span> (workaddress <span style="color:#fff;font-weight:bold">in</span> (<span style="color:#0ff;font-weight:bold">&#34;北京&#34;</span>,<span style="color:#0ff;font-weight:bold">&#34;上海&#34;</span>), <span style="color:#0ff;font-weight:bold">&#34;一线&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;二线&#34;</span>) adress_type
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> emp;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> name, 
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">case</span> <span style="color:#fff;font-weight:bold">when</span> age &gt; <span style="color:#ff0;font-weight:bold">40</span> <span style="color:#fff;font-weight:bold">then</span> <span style="color:#0ff;font-weight:bold">&#34;中年&#34;</span> <span style="color:#fff;font-weight:bold">when</span> age &gt; <span style="color:#ff0;font-weight:bold">30</span> <span style="color:#fff;font-weight:bold">then</span> <span style="color:#0ff;font-weight:bold">&#34;中青年&#34;</span> <span style="color:#fff;font-weight:bold">else</span> <span style="color:#0ff;font-weight:bold">&#34;青年&#34;</span> end age_type
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> emp;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="9连接两张表">9、连接两张表<a hidden class="anchor" aria-hidden="true" href="#9连接两张表">#</a></h3>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># (1) 内连接
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp, dept <span style="color:#fff;font-weight:bold">where</span> emp.dept_id = dept.id;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> e.name, d.name <span style="color:#fff;font-weight:bold">from</span> emp e <span style="color:#fff;font-weight:bold">inner</span> <span style="color:#fff;font-weight:bold">join</span> dept d <span style="color:#fff;font-weight:bold">on</span> e.dept_id = d.id;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (2) 左连接
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> e.name, d.name <span style="color:#fff;font-weight:bold">from</span> emp e <span style="color:#fff;font-weight:bold">left</span> <span style="color:#fff;font-weight:bold">join</span> dept d <span style="color:#fff;font-weight:bold">on</span> e.dept_id = d.id;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (3) 右连接
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> e.name, d.name <span style="color:#fff;font-weight:bold">from</span> emp e <span style="color:#fff;font-weight:bold">right</span> <span style="color:#fff;font-weight:bold">join</span> dept d <span style="color:#fff;font-weight:bold">on</span> e.dept_id = d.id;
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="10嵌套查询">10、嵌套查询<a hidden class="anchor" aria-hidden="true" href="#10嵌套查询">#</a></h3>
<ul>
<li>条件语句中的阈值/候选值由嵌套的另一个select语句间接确定</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># (1) 嵌套select返回单个值
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> dept_id = (<span style="color:#fff;font-weight:bold">select</span> id <span style="color:#fff;font-weight:bold">from</span> dept <span style="color:#fff;font-weight:bold">where</span> name = <span style="color:#0ff;font-weight:bold">&#39;研发部&#39;</span>); 
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> entrydate &gt; (<span style="color:#fff;font-weight:bold">select</span> entrydate <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> name = <span style="color:#0ff;font-weight:bold">&#39;韦一笑&#39;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># (2) 嵌套select返回单列值
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">## in, not in, any, all
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> dept_id <span style="color:#fff;font-weight:bold">in</span> (<span style="color:#fff;font-weight:bold">select</span> id <span style="color:#fff;font-weight:bold">from</span> dept <span style="color:#fff;font-weight:bold">where</span> name <span style="color:#fff;font-weight:bold">in</span> (<span style="color:#0ff;font-weight:bold">&#39;研发部&#39;</span>,<span style="color:#0ff;font-weight:bold">&#39;市场部&#39;</span>));
</span></span><span style="display:flex;"><span><span style="color:#007f7f">## 多重嵌套
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> *
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> emp
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">where</span> salary &gt; <span style="color:#fff;font-weight:bold">all</span> (<span style="color:#fff;font-weight:bold">select</span> salary <span style="color:#fff;font-weight:bold">from</span> emp <span style="color:#fff;font-weight:bold">where</span> dept_id = (<span style="color:#fff;font-weight:bold">select</span> id <span style="color:#fff;font-weight:bold">from</span> dept <span style="color:#fff;font-weight:bold">where</span> name = <span style="color:#0ff;font-weight:bold">&#39;研发部&#39;</span>));
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="11主键与外键">11、主键与外键<a hidden class="anchor" aria-hidden="true" href="#11主键与外键">#</a></h3>
<ul>
<li>
<p>主键(primary key)：具有表的唯一标识符的一列数据，一张表只能有一个主键。</p>
<p>外键(foreign key): 其中的一列数据含义与另一张表的主键相同时，可视为外键。</p>
</li>
<li>
<p>定义两张表的外键关系时，外键所在表称为子表，另一张表称为父表。</p>
<p>如上示例数据中，员工表(子表)的dept_id列与部门表(父表)的id列含义相同，可建立外键关系。</p>
</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># 可以在创建表时声明主键与外键，也可以在之后再修改(如下演示)
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">#(1)设置主键
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">table</span> emp <span style="color:#fff;font-weight:bold">add</span> <span style="color:#fff;font-weight:bold">primary</span> <span style="color:#fff;font-weight:bold">key</span>(id);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">table</span> dept <span style="color:#fff;font-weight:bold">add</span> <span style="color:#fff;font-weight:bold">primary</span> <span style="color:#fff;font-weight:bold">key</span>(id);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#(2)删除主键
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">table</span> emp <span style="color:#fff;font-weight:bold">drop</span> <span style="color:#fff;font-weight:bold">primary</span> <span style="color:#fff;font-weight:bold">key</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#(3)设置外键
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">table</span> emp 
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">add</span> <span style="color:#fff;font-weight:bold">constraint</span> fk_emp_dept_id  <span style="color:#007f7f">#外键名
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>	<span style="color:#fff;font-weight:bold">foreign</span> <span style="color:#fff;font-weight:bold">key</span> (dept_id)   <span style="color:#007f7f">#外键列
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>	<span style="color:#fff;font-weight:bold">references</span> dept(id);    <span style="color:#007f7f">#对应哪个表的那个主键
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#(4)删除外键
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">table</span> emp <span style="color:#fff;font-weight:bold">drop</span> <span style="color:#fff;font-weight:bold">foreign</span> <span style="color:#fff;font-weight:bold">key</span> fk_emp_dept_id;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#建立外键关系后，默认不允许随意删除delete/修改update父表(dept)的主键数据 -- no action/ restrict
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">#cascade：父表数据删除，子表对应数据也随之删除
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">#set null：父表数据删除，子表对应数据改为null
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">alter</span> <span style="color:#fff;font-weight:bold">table</span> emp 
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">add</span> <span style="color:#fff;font-weight:bold">constraint</span> fk_emp_dept_id  
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">foreign</span> <span style="color:#fff;font-weight:bold">key</span> (dept_id)   
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">references</span> dept(id)
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">on</span> <span style="color:#fff;font-weight:bold">update</span> <span style="color:#fff;font-weight:bold">cascade</span> <span style="color:#fff;font-weight:bold">on</span> <span style="color:#fff;font-weight:bold">delete</span> <span style="color:#fff;font-weight:bold">cascade</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><h1 id="三数据导出与导入">三、数据导出与导入<a hidden class="anchor" aria-hidden="true" href="#三数据导出与导入">#</a></h1>
<h3 id="1数据导出">1、数据导出<a hidden class="anchor" aria-hidden="true" href="#1数据导出">#</a></h3>
<ul>
<li>导出表为txt或者csv文件</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># 查看导出的默认路径
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">show</span> variables <span style="color:#fff;font-weight:bold">like</span> <span style="color:#0ff;font-weight:bold">&#39;%secure%&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +--------------------------+-----------------------+
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- | Variable_name            | Value                 |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +--------------------------+-----------------------+
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- | require_secure_transport | OFF                   |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- | secure_file_priv         | /var/lib/mysql-files/ |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +--------------------------+-----------------------+
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 导出为txt文件
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> *
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> dept
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">into</span> <span style="color:#fff;font-weight:bold">outfile</span> <span style="color:#0ff;font-weight:bold">&#39;/var/lib/mysql-files/tmp.txt&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 导出为csv文件
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> *
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> dept
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">into</span> <span style="color:#fff;font-weight:bold">outfile</span> <span style="color:#0ff;font-weight:bold">&#39;/var/lib/mysql-files/tmp.csv&#39;</span>
</span></span><span style="display:flex;"><span>FIELDS <span style="color:#fff;font-weight:bold">TERMINATED</span> <span style="color:#fff;font-weight:bold">BY</span> <span style="color:#0ff;font-weight:bold">&#39;,&#39;</span> <span style="color:#fff;font-weight:bold">ENCLOSED</span> <span style="color:#fff;font-weight:bold">BY</span> <span style="color:#0ff;font-weight:bold">&#39;&#34;&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">LINES</span> <span style="color:#fff;font-weight:bold">TERMINATED</span> <span style="color:#fff;font-weight:bold">BY</span> <span style="color:#0ff;font-weight:bold">&#39;\r\n&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">## 关于导出csv文件用excel打开中文乱码 https://blog.csdn.net/u010735147/article/details/83827857
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>导处数据库/表为.sql文件(需要退出mysql，在shell界面完成)</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f"># 导出整个数据库</span>
</span></span><span style="display:flex;"><span>mysqldump -u root -p firstdb &gt; /path/to/dir/firstdb.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># 导出某数据库的某个表</span>
</span></span><span style="display:flex;"><span>mysqldump -u root -p firstdb emp &gt; /path/to/dir/firstdb.sql
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="2数据导入">2、数据导入<a hidden class="anchor" aria-hidden="true" href="#2数据导入">#</a></h3>
<ul>
<li>导入本地表文件至数据库的某个表里，注意导入时列顺序需要相同。</li>
</ul>
<p>由于无法直接从默认目录读取<code>ERROR 13 (HY000): File '/var/lib/mysql-files/tmp.txt' not found (OS errno 13 - 权限不够)</code>。可以将待读取文件放到mysql所支持的<code>/tmp/</code>临时文件夹</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cp /var/lib/mysql-files/tmp.txt /tmp/
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">show</span> variables <span style="color:#fff;font-weight:bold">like</span> <span style="color:#0ff;font-weight:bold">&#39;%tmpdir%&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">SET</span> GLOBAL local_infile=<span style="color:#ff0;font-weight:bold">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># quit
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"># mysql --local-infile=1 -u root -p
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">table</span> new_table(
</span></span><span style="display:flex;"><span>	id <span style="color:#fff;font-weight:bold">int</span> comment <span style="color:#0ff;font-weight:bold">&#39;ID&#39;</span>,
</span></span><span style="display:flex;"><span>	name <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">10</span>) comment <span style="color:#0ff;font-weight:bold">&#39;部门名称&#39;</span>
</span></span><span style="display:flex;"><span>	)comment <span style="color:#0ff;font-weight:bold">&#39;部门表&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">## 导入txt文件
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">load</span> data local <span style="color:#fff;font-weight:bold">infile</span> <span style="color:#0ff;font-weight:bold">&#39;/tmp/tmp.txt&#39;</span> <span style="color:#fff;font-weight:bold">into</span> <span style="color:#fff;font-weight:bold">table</span> new_table
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">LINES</span> <span style="color:#fff;font-weight:bold">TERMINATED</span> <span style="color:#fff;font-weight:bold">BY</span> <span style="color:#0ff;font-weight:bold">&#39;\r\n&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">## 导入csv文件
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">load</span> data local <span style="color:#fff;font-weight:bold">infile</span> <span style="color:#0ff;font-weight:bold">&#39;/tmp/tmp.csv&#39;</span> <span style="color:#fff;font-weight:bold">into</span> <span style="color:#fff;font-weight:bold">table</span> new_table
</span></span><span style="display:flex;"><span>FIELDS <span style="color:#fff;font-weight:bold">TERMINATED</span> <span style="color:#fff;font-weight:bold">BY</span> <span style="color:#0ff;font-weight:bold">&#39;,&#39;</span> <span style="color:#fff;font-weight:bold">ENCLOSED</span> <span style="color:#fff;font-weight:bold">BY</span> <span style="color:#0ff;font-weight:bold">&#39;&#34;&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">LINES</span> <span style="color:#fff;font-weight:bold">TERMINATED</span> <span style="color:#fff;font-weight:bold">BY</span> <span style="color:#0ff;font-weight:bold">&#39;\r\n&#39;</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>导入本地sql至数据库中</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># 在mysql创建一个新数据库
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">database</span> seconddb;
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#007f7f"># 在shell端将sql文件导入至该数据库</span>
</span></span><span style="display:flex;"><span>mysql -u root -p seconddb &lt; /path/to/dir/firstdb.sql
</span></span></code></pre></td></tr></table>
</div>
</div><hr>
<h1 id="补">补<a hidden class="anchor" aria-hidden="true" href="#补">#</a></h1>
<p>1、修改sql数据库位置：https://www.tecmint.com/change-default-mysql-mariadb-data-directory-in-linux/</p>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span>mysql -u root -p -e <span style="color:#0ff;font-weight:bold">&#34;SELECT @@datadir;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +-----------------------+
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- | @@datadir             |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +-----------------------+
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- | /var/lib/mysql/ |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +-----------------------+
</span></span></span></code></pre></td></tr></table>
</div>
</div><h1 id="四chembl数据库实战">四、Chembl数据库实战<a hidden class="anchor" aria-hidden="true" href="#四chembl数据库实战">#</a></h1>
<p>关于Chembl数据库：https://www.ebi.ac.uk/chembl/</p>
<p>Chembl数据库SQL下载：https://ftp.ebi.ac.uk/pub/databases/chembl/ChEMBLdb/latest/</p>
<p>文件大小&mdash;压缩包1.6G；解压缩后&mdash;15G；读入至SQL&mdash;33G</p>
<ul>
<li>首先读入至mysql中</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># 在mysql中创建一个名为chembl_31的数据库
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">database</span> chembl_31 <span style="color:#fff;font-weight:bold">DEFAULT</span> <span style="color:#fff;font-weight:bold">CHARACTER</span> <span style="color:#fff;font-weight:bold">SET</span> utf8 <span style="color:#fff;font-weight:bold">DEFAULT</span> <span style="color:#fff;font-weight:bold">COLLATE</span> utf8_general_ci;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># mysql -u root -p  chembl_31 &lt; chembl_31_mysql.dmp
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"># 大概需要2~3个小时
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">use</span> chembl_31;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">show</span> <span style="color:#fff;font-weight:bold">tables</span>;
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>（1）实验对应的靶点信息</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">46
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span>  activities <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">1</span> <span style="color:#f00">\</span>G
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span>  target_components <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">1</span> <span style="color:#f00">\</span>G
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span>  component_sequences <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">1</span> <span style="color:#f00">\</span>G
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#导入uniprot基因注释
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">table</span> uniprot2gene(
</span></span><span style="display:flex;"><span>	uniprot <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">30</span>) ,
</span></span><span style="display:flex;"><span>	gene <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">50</span>) 
</span></span><span style="display:flex;"><span>	);
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">load</span> data local <span style="color:#fff;font-weight:bold">infile</span> <span style="color:#0ff;font-weight:bold">&#39;/tmp/chembl_uniprot2gene.csv&#39;</span> <span style="color:#fff;font-weight:bold">into</span> <span style="color:#fff;font-weight:bold">table</span> uniprot2gene
</span></span><span style="display:flex;"><span>FIELDS <span style="color:#fff;font-weight:bold">TERMINATED</span> <span style="color:#fff;font-weight:bold">BY</span> <span style="color:#0ff;font-weight:bold">&#39;,&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">LINES</span> <span style="color:#fff;font-weight:bold">TERMINATED</span> <span style="color:#fff;font-weight:bold">BY</span> <span style="color:#0ff;font-weight:bold">&#39;\r\n&#39;</span>
</span></span><span style="display:flex;"><span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> uniprot2gene <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">10</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> uniprot2gene <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">1</span> <span style="color:#f00">\</span>G
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">table</span> tmp_target_info 
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> 
</span></span><span style="display:flex;"><span>a.assay_id assay_id, a.tid tid, 
</span></span><span style="display:flex;"><span>b.component_id component_id, 
</span></span><span style="display:flex;"><span>c.component_type component_type, 
</span></span><span style="display:flex;"><span>c.accession accession,
</span></span><span style="display:flex;"><span>c.organism organism,
</span></span><span style="display:flex;"><span>d.gene gene
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span>  assays  a
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">left</span> <span style="color:#fff;font-weight:bold">join</span> target_components b 
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">on</span> a.tid = b.tid
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">left</span> <span style="color:#fff;font-weight:bold">join</span> component_sequences c
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">on</span> b.component_id = c.component_id
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">left</span> <span style="color:#fff;font-weight:bold">join</span> uniprot2gene d
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">on</span> c.accession = d.uniprot
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">where</span> c.organism = <span style="color:#0ff;font-weight:bold">&#34;Homo sapiens&#34;</span> <span style="color:#fff;font-weight:bold">and</span> c.component_type = <span style="color:#0ff;font-weight:bold">&#34;PROTEIN&#34;</span>
</span></span><span style="display:flex;"><span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> count(*) <span style="color:#fff;font-weight:bold">from</span> tmp_target_info;   
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#415795
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> tmp_target_info <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">5</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +----------+--------+--------------+----------------+-----------+--------------+--------+
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- | assay_id | tid    | component_id | component_type | accession | organism     | gene   |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +----------+--------+--------------+----------------+-----------+--------------+--------+
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- |   142605 | 104282 |            2 | PROTEIN        | P02708    | Homo sapiens | CHRNA1 |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- |   142606 | 104282 |            2 | PROTEIN        | P02708    | Homo sapiens | CHRNA1 |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- |   143098 | 104282 |            2 | PROTEIN        | P02708    | Homo sapiens | CHRNA1 |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- |   143099 | 104282 |            2 | PROTEIN        | P02708    | Homo sapiens | CHRNA1 |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- |   143100 | 104282 |            2 | PROTEIN        | P02708    | Homo sapiens | CHRNA1 |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +----------+--------+--------------+----------------+-----------+--------------+--------+
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>（2）化合物ID对应靶点的实验结果</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span>  activities <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">1</span> <span style="color:#f00">\</span>G;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span>  molecule_dictionary <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">1</span> <span style="color:#f00">\</span>G
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">table</span> tmp_compound_assay 
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> 
</span></span><span style="display:flex;"><span>a.assay_id assay_id, a.molregno molregno, 
</span></span><span style="display:flex;"><span>b.chembl_id chembl_id,
</span></span><span style="display:flex;"><span>a.standard_relation standard_relation,
</span></span><span style="display:flex;"><span>a.standard_value standard_value,
</span></span><span style="display:flex;"><span>a.standard_units standard_units,
</span></span><span style="display:flex;"><span>a.standard_flag standard_flag,
</span></span><span style="display:flex;"><span>a.standard_type standard_type,
</span></span><span style="display:flex;"><span>a.pchembl_value a.pchembl_value
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> activities a
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">left</span> <span style="color:#fff;font-weight:bold">join</span> molecule_dictionary b
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">on</span> a.molregno=b.molregno
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">where</span> a.assay_id <span style="color:#fff;font-weight:bold">in</span> (<span style="color:#fff;font-weight:bold">select</span> assay_id <span style="color:#fff;font-weight:bold">from</span> tmp_target_info)
</span></span><span style="display:flex;"><span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> count(*) <span style="color:#fff;font-weight:bold">from</span> tmp_compound_assay;   
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#5951349
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> tmp_compound_assay <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">5</span>;
</span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +----------+----------+--------------+-------------------+--------------------------------------+----------------+---------------+---------------+
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- | assay_id | molregno | chembl_id    | standard_relation | standard_value                       | standard_units | standard_flag | standard_type |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +----------+----------+--------------+-------------------+--------------------------------------+----------------+---------------+---------------+
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- |        4 |   167941 | CHEMBL321330 | &gt;                 | 10000.000000000000000000000000000000 | nM             |             0 | 135           |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- |       18 |   144846 | CHEMBL313630 | =                 |   300.000000000000000000000000000000 | nM             |             1 | AC50          |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- |       18 |   144716 | CHEMBL315582 | =                 |   200.000000000000000000000000000000 | nM             |             1 | AC50          |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- |       18 |   144887 | CHEMBL313613 | =                 |   500.000000000000000000000000000000 | nM             |             1 | AC50          |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- |       18 |   144715 | CHEMBL316389 | =                 |   200.000000000000000000000000000000 | nM             |             1 | AC50          |
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f">-- +----------+----------+--------------+-------------------+--------------------------------------+----------------+---------------+---------------+
</span></span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>（3） 查询PubChemID对应的CHEMBL的化合物实验信息</li>
</ul>
<div class="highlight"><div style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#727272">34
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-mysql" data-lang="mysql"><span style="display:flex;"><span><span style="color:#007f7f"># 查询表query_tb包括两列：第一列，pubchem id；第二列，chembl id
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">table</span> query_tb(
</span></span><span style="display:flex;"><span>	CID <span style="color:#fff;font-weight:bold">int</span> ,
</span></span><span style="display:flex;"><span>	Chembl <span style="color:#fff;font-weight:bold">varchar</span>(<span style="color:#ff0;font-weight:bold">20</span>) 
</span></span><span style="display:flex;"><span>	);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#读入本地csv文件
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">load</span> data local <span style="color:#fff;font-weight:bold">infile</span> <span style="color:#0ff;font-weight:bold">&#39;/tmp/query_chembl.csv&#39;</span> <span style="color:#fff;font-weight:bold">into</span> <span style="color:#fff;font-weight:bold">table</span> query_tb   
</span></span><span style="display:flex;"><span>FIELDS <span style="color:#fff;font-weight:bold">TERMINATED</span> <span style="color:#fff;font-weight:bold">BY</span> <span style="color:#0ff;font-weight:bold">&#39;,&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">LINES</span> <span style="color:#fff;font-weight:bold">TERMINATED</span> <span style="color:#fff;font-weight:bold">BY</span> <span style="color:#0ff;font-weight:bold">&#39;\r\n&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> * <span style="color:#fff;font-weight:bold">from</span> query_tb <span style="color:#fff;font-weight:bold">limit</span> <span style="color:#ff0;font-weight:bold">10</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f">#得到筛选结果query_res_tb
</span></span></span><span style="display:flex;"><span><span style="color:#007f7f"></span><span style="color:#fff;font-weight:bold">create</span> <span style="color:#fff;font-weight:bold">table</span> query_res_tb
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> 
</span></span><span style="display:flex;"><span>cp.chembl_id chembl_id,
</span></span><span style="display:flex;"><span>cp.standard_relation standard_relation,
</span></span><span style="display:flex;"><span>cp.standard_value standard_value,
</span></span><span style="display:flex;"><span>cp.standard_units standard_units,
</span></span><span style="display:flex;"><span>cp.standard_flag standard_flag,
</span></span><span style="display:flex;"><span>cp.standard_type standard_type,
</span></span><span style="display:flex;"><span>cp.pchembl_value pchembl_value,
</span></span><span style="display:flex;"><span>target.gene gene
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> tmp_compound_assay cp
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">left</span> <span style="color:#fff;font-weight:bold">join</span> tmp_target_info target
</span></span><span style="display:flex;"><span>	<span style="color:#fff;font-weight:bold">on</span> cp.assay_id=target.assay_id
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">where</span> cp.chembl_id <span style="color:#fff;font-weight:bold">in</span> (<span style="color:#fff;font-weight:bold">select</span> Chembl <span style="color:#fff;font-weight:bold">from</span> query_tb);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">show</span> variables <span style="color:#fff;font-weight:bold">like</span> <span style="color:#0ff;font-weight:bold">&#39;%secure%&#39;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">select</span> *
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">from</span> query_res_tb
</span></span><span style="display:flex;"><span><span style="color:#fff;font-weight:bold">into</span> <span style="color:#fff;font-weight:bold">outfile</span> <span style="color:#0ff;font-weight:bold">&#39;/var/lib/mysql-files/query_chembl_res.txt&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#007f7f"># c(&#34;chembl_id&#34;,&#34;relation&#34;,&#34;value&#34;,&#34;units&#34;,&#34;flag&#34;,&#34;type&#34;,&#34;pchembl_value&#34;,&#34;gene&#34;)
</span></span></span></code></pre></td></tr></table>
</div>
</div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://lishensuo.github.io/en/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/">计算机基础</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://lishensuo.github.io/en/posts/program/505json%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/">
    <span class="title">« Prev Page</span>
    <br>
    <span>Json文件格式</span>
  </a>
  <a class="next" href="https://lishensuo.github.io/en/posts/bioinfo/701%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0d2l--01--%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92/">
    <span class="title">Next Page »</span>
    <br>
    <span>深度学习D2L--01--线性回归</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2025 <a href="https://lishensuo.github.io/en/">Li&#39;s Bioinfo-Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
		<br/>您是本站第 <span id="busuanzi_value_site_uv"></span> 位访问者，总浏览量为 <span id="busuanzi_value_site_pv"></span> 次
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

<script type="text/javascript"
async
src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
tex2jax: {
inlineMath: [['$','$'], ['\\(','\\)']],
displayMath: [['$$','$$'], ['\[\[','\]\]']],
processEscapes: true,
processEnvironments: true,
skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
TeX: { equationNumbers: { autoNumber: "AMS" },
extensions: ["AMSmath.js", "AMSsymbols.js"] }
}
});

MathJax.Hub.Queue(function() {



var all = MathJax.Hub.getAllJax(), i;
for(i = 0; i < all.length; i += 1) {
all[i].SourceElement().parentNode.className += ' has-jax';
}
});
</script>

<style>
code.has-jax {
font: inherit;
font-size: 100%;
background: inherit;
border: inherit;
color: #515151;
}
</style></body>
</html>
